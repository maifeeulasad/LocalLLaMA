[
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": 1,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t3",
          "data": {
            "approved_at_utc": null,
            "subreddit": "LocalLLaMA",
            "selftext": "Sharing an OpenAI proxy solution for Claude-Code\n\n[https://github.com/ziozzang/claude2openai-proxy](https://github.com/ziozzang/claude2openai-proxy)\n\nAdvantages:\n\n1. In theory, as long as an OpenAI-compatible API supports tool usage, you can smoothly test any model with Claude Code.\n2. You can start using Claude Code with any specified model, whether it’s internal or external.\n3. You can also debug if needed.\n4. Anyway, at least from my tests, it works very well. The only issue is the model itself.\n\n\\----\n\nWhile using Claude Code, I wanted to connect to a local model. There were tools like claude-code-router and other systems, but I couldn’t find a solid solution that worked well for multiple users. So, based on [https://github.com/1rgs/claude-code-proxy ](https://github.com/1rgs/claude-code-proxy), I built a proxy tailored for my use. Since it converts between different protocols, “gateway” might actually be a more fitting term.\n\nAnyway, here are the features:\n\nFull support for Claude Code.\n\n* On the server side, you can configure which model to proxy. For example, when a request comes in for opus or sonnet, you can route it to a predefined model.\n* Alternatively, you can force the model selection at Claude Code startup by letting the user set it via environment variables.\n* Authentication is done via the ANTHROPIC\\_API\\_KEY environment variable. The provided token is then forwarded to the backend as a Bearer token for the OpenAI API.\n\nBelow is an example of setting up the server and actually using it from a client:\n\n    ANTHROPIC_BASE_URL=http://localhost:8082 \\\n    ANTHROPIC_API_KEY=sk-openapi-auth-token \\\n    ANTHROPIC_MODEL=\"openrouter/horizon-beta\" \\\n    ANTHROPIC_SMALL_FAST_MODEL=\"openrouter/horizon-beta\" \\\n    claude  \n\nTo be honest, I made this to test the openrouter/horizon-beta model. :)\n\nThe pipeline works great: Claude Code -(Claude API)-&gt; my modified proxy server -(OpenAI API)-&gt; openrouter/horizon-beta.\n\nBy the way, you can find what I built at [https://github.com/ziozzang/claude2openai-proxy ](https://github.com/ziozzang/claude2openai-proxy). I use it by building it into a container.\n\nTo be honest,\n\n* horizon-alpha doesn’t seem to handle Claude Code’s prompts very well. Qwen3-Coder flash (30B A3B) either. (tool calling issue.)\n* horizon-beta handles them quite well.\n* However, both models ask the user to make choices too often to be suitable for full automation. Compared to Sonnet, they don’t feel ideal for automated workflows.\n\nPS.\n\nThe whole reason this started was because of Claude Code’s usage limits. LoL...",
            "user_reports": [],
            "saved": false,
            "mod_reason_title": null,
            "gilded": 0,
            "clicked": false,
            "title": "Gateway/Proxy for Claude-Code to OpenAI API compatible.",
            "link_flair_richtext": [
              {
                "e": "text",
                "t": "Other"
              }
            ],
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "hidden": false,
            "pwls": 6,
            "link_flair_css_class": "",
            "downs": 0,
            "thumbnail_height": null,
            "top_awarded_type": null,
            "hide_score": false,
            "name": "t3_1mfuu40",
            "quarantine": false,
            "link_flair_text_color": "light",
            "upvote_ratio": 0.89,
            "author_flair_background_color": null,
            "subreddit_type": "public",
            "ups": 7,
            "total_awards_received": 0,
            "media_embed": {},
            "thumbnail_width": null,
            "author_flair_template_id": null,
            "is_original_content": false,
            "author_fullname": "t2_5409gkc6",
            "secure_media": null,
            "is_reddit_media_domain": false,
            "is_meta": false,
            "category": null,
            "secure_media_embed": {},
            "link_flair_text": "Other",
            "can_mod_post": false,
            "score": 7,
            "approved_by": null,
            "is_created_from_ads_ui": false,
            "author_premium": false,
            "thumbnail": "self",
            "edited": 1754153859,
            "author_flair_css_class": null,
            "author_flair_richtext": [],
            "gildings": {},
            "post_hint": "self",
            "content_categories": null,
            "is_self": true,
            "mod_note": null,
            "created": 1754152276,
            "link_flair_type": "richtext",
            "wls": 6,
            "removed_by_category": null,
            "banned_by": null,
            "author_flair_type": "text",
            "domain": "self.LocalLLaMA",
            "allow_live_comments": false,
            "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Sharing an OpenAI proxy solution for Claude-Code&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/ziozzang/claude2openai-proxy\"&gt;https://github.com/ziozzang/claude2openai-proxy&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Advantages:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;In theory, as long as an OpenAI-compatible API supports tool usage, you can smoothly test any model with Claude Code.&lt;/li&gt;\n&lt;li&gt;You can start using Claude Code with any specified model, whether it’s internal or external.&lt;/li&gt;\n&lt;li&gt;You can also debug if needed.&lt;/li&gt;\n&lt;li&gt;Anyway, at least from my tests, it works very well. The only issue is the model itself.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;----&lt;/p&gt;\n\n&lt;p&gt;While using Claude Code, I wanted to connect to a local model. There were tools like claude-code-router and other systems, but I couldn’t find a solid solution that worked well for multiple users. So, based on &lt;a href=\"https://github.com/1rgs/claude-code-proxy\"&gt;https://github.com/1rgs/claude-code-proxy &lt;/a&gt;, I built a proxy tailored for my use. Since it converts between different protocols, “gateway” might actually be a more fitting term.&lt;/p&gt;\n\n&lt;p&gt;Anyway, here are the features:&lt;/p&gt;\n\n&lt;p&gt;Full support for Claude Code.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;On the server side, you can configure which model to proxy. For example, when a request comes in for opus or sonnet, you can route it to a predefined model.&lt;/li&gt;\n&lt;li&gt;Alternatively, you can force the model selection at Claude Code startup by letting the user set it via environment variables.&lt;/li&gt;\n&lt;li&gt;Authentication is done via the ANTHROPIC_API_KEY environment variable. The provided token is then forwarded to the backend as a Bearer token for the OpenAI API.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Below is an example of setting up the server and actually using it from a client:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ANTHROPIC_BASE_URL=http://localhost:8082 \\\nANTHROPIC_API_KEY=sk-openapi-auth-token \\\nANTHROPIC_MODEL=&amp;quot;openrouter/horizon-beta&amp;quot; \\\nANTHROPIC_SMALL_FAST_MODEL=&amp;quot;openrouter/horizon-beta&amp;quot; \\\nclaude  \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To be honest, I made this to test the openrouter/horizon-beta model. :)&lt;/p&gt;\n\n&lt;p&gt;The pipeline works great: Claude Code -(Claude API)-&amp;gt; my modified proxy server -(OpenAI API)-&amp;gt; openrouter/horizon-beta.&lt;/p&gt;\n\n&lt;p&gt;By the way, you can find what I built at &lt;a href=\"https://github.com/ziozzang/claude2openai-proxy\"&gt;https://github.com/ziozzang/claude2openai-proxy &lt;/a&gt;. I use it by building it into a container.&lt;/p&gt;\n\n&lt;p&gt;To be honest,&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;horizon-alpha doesn’t seem to handle Claude Code’s prompts very well. Qwen3-Coder flash (30B A3B) either. (tool calling issue.)&lt;/li&gt;\n&lt;li&gt;horizon-beta handles them quite well.&lt;/li&gt;\n&lt;li&gt;However, both models ask the user to make choices too often to be suitable for full automation. Compared to Sonnet, they don’t feel ideal for automated workflows.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;PS.&lt;/p&gt;\n\n&lt;p&gt;The whole reason this started was because of Claude Code’s usage limits. LoL...&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
            "likes": null,
            "suggested_sort": null,
            "banned_at_utc": null,
            "view_count": null,
            "archived": false,
            "no_follow": false,
            "is_crosspostable": false,
            "pinned": false,
            "over_18": false,
            "preview": {
              "images": [
                {
                  "source": {
                    "url": "https://external-preview.redd.it/SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE.png?auto=webp&amp;s=42f669382e1c8928b5e1d529da5526d93801fc0d",
                    "width": 1200,
                    "height": 600
                  },
                  "resolutions": [
                    {
                      "url": "https://external-preview.redd.it/SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=e43bc658beb09686e12af7368ba5a1c7c7d40071",
                      "width": 108,
                      "height": 54
                    },
                    {
                      "url": "https://external-preview.redd.it/SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=41d704239a298e8b8e9ef761cbf0504c8c77ccaf",
                      "width": 216,
                      "height": 108
                    },
                    {
                      "url": "https://external-preview.redd.it/SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=1fed85d51213a23fb5ee442d3c4a5ad79bfcf800",
                      "width": 320,
                      "height": 160
                    },
                    {
                      "url": "https://external-preview.redd.it/SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=0d1364de265c02e79206344fc84f7451660adc50",
                      "width": 640,
                      "height": 320
                    },
                    {
                      "url": "https://external-preview.redd.it/SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=5975df8d3cb9a0c0f9fe7ad4afa6ddfa17a56a05",
                      "width": 960,
                      "height": 480
                    },
                    {
                      "url": "https://external-preview.redd.it/SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=9cbd06ed3b8ba41d88914fbda7d1b7707aee647f",
                      "width": 1080,
                      "height": 540
                    }
                  ],
                  "variants": {},
                  "id": "SSww-5zCchd4jUh-0DWh-Zc0KpQfP7v2XwPYRGw1fwE"
                }
              ],
              "enabled": false
            },
            "all_awardings": [],
            "awarders": [],
            "media_only": false,
            "link_flair_template_id": "7a7848d2-bf8e-11ed-8c2f-765d15199f78",
            "can_gild": false,
            "spoiler": false,
            "locked": false,
            "author_flair_text": null,
            "treatment_tags": [],
            "visited": false,
            "removed_by": null,
            "num_reports": null,
            "distinguished": null,
            "subreddit_id": "t5_81eyvm",
            "author_is_blocked": false,
            "mod_reason_by": null,
            "removal_reason": null,
            "link_flair_background_color": "#94e044",
            "id": "1mfuu40",
            "is_robot_indexable": true,
            "num_duplicates": 0,
            "report_reasons": null,
            "author": "ziozzang0",
            "discussion_type": null,
            "num_comments": 2,
            "send_replies": true,
            "media": null,
            "contest_mode": false,
            "author_patreon_flair": false,
            "author_flair_text_color": null,
            "permalink": "/r/LocalLLaMA/comments/1mfuu40/gatewayproxy_for_claudecode_to_openai_api/",
            "stickied": false,
            "url": "https://www.reddit.com/r/LocalLLaMA/comments/1mfuu40/gatewayproxy_for_claudecode_to_openai_api/",
            "subreddit_subscribers": 509293,
            "created_utc": 1754152276,
            "num_crossposts": 0,
            "mod_reports": [],
            "is_video": false
          }
        }
      ],
      "before": null
    }
  },
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": null,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t1",
          "data": {
            "subreddit_id": "t5_81eyvm",
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "author_flair_type": "text",
            "total_awards_received": 0,
            "subreddit": "LocalLLaMA",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "user_reports": [],
            "saved": false,
            "id": "n6jybvm",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "prusswan",
            "can_mod_post": false,
            "created_utc": 1754154109,
            "send_replies": true,
            "parent_id": "t3_1mfuu40",
            "score": 2,
            "author_fullname": "t2_kegwk",
            "approved_by": null,
            "mod_note": null,
            "all_awardings": [],
            "collapsed": false,
            "body": "Did you manage to try this with Qwen3 or other public models? \n\nBeen trying to find a proper way to identify situations where Qwen3 gets stuck, so this certainly helps",
            "edited": false,
            "top_awarded_type": null,
            "author_flair_css_class": null,
            "name": "t1_n6jybvm",
            "is_submitter": false,
            "downs": 0,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Did you manage to try this with Qwen3 or other public models? &lt;/p&gt;\n\n&lt;p&gt;Been trying to find a proper way to identify situations where Qwen3 gets stuck, so this certainly helps&lt;/p&gt;\n&lt;/div&gt;",
            "removal_reason": null,
            "collapsed_reason": null,
            "distinguished": null,
            "associated_award": null,
            "stickied": false,
            "author_premium": false,
            "can_gild": false,
            "gildings": {},
            "unrepliable_reason": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/LocalLLaMA/comments/1mfuu40/gatewayproxy_for_claudecode_to_openai_api/n6jybvm/",
            "subreddit_type": "public",
            "locked": false,
            "report_reasons": null,
            "created": 1754154109,
            "author_flair_text": null,
            "treatment_tags": [],
            "link_id": "t3_1mfuu40",
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "num_reports": null,
            "ups": 2
          }
        },
        {
          "kind": "t1",
          "data": {
            "subreddit_id": "t5_81eyvm",
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "author_flair_type": "text",
            "total_awards_received": 0,
            "subreddit": "LocalLLaMA",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "user_reports": [],
            "saved": false,
            "id": "n6mdtqu",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "Glittering-Call8746",
            "can_mod_post": false,
            "created_utc": 1754183956,
            "send_replies": true,
            "parent_id": "t3_1mfuu40",
            "score": 1,
            "author_fullname": "t2_tqwl6sawb",
            "approved_by": null,
            "mod_note": null,
            "all_awardings": [],
            "collapsed": false,
            "body": "Yes qwen3 local models is interesting for this use case..",
            "edited": false,
            "top_awarded_type": null,
            "author_flair_css_class": null,
            "name": "t1_n6mdtqu",
            "is_submitter": false,
            "downs": 0,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Yes qwen3 local models is interesting for this use case..&lt;/p&gt;\n&lt;/div&gt;",
            "removal_reason": null,
            "collapsed_reason": null,
            "distinguished": null,
            "associated_award": null,
            "stickied": false,
            "author_premium": false,
            "can_gild": false,
            "gildings": {},
            "unrepliable_reason": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/LocalLLaMA/comments/1mfuu40/gatewayproxy_for_claudecode_to_openai_api/n6mdtqu/",
            "subreddit_type": "public",
            "locked": false,
            "report_reasons": null,
            "created": 1754183956,
            "author_flair_text": null,
            "treatment_tags": [],
            "link_id": "t3_1mfuu40",
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "num_reports": null,
            "ups": 1
          }
        }
      ],
      "before": null
    }
  }
]