[
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": 1,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t3",
          "data": {
            "approved_at_utc": null,
            "subreddit": "LocalLLaMA",
            "selftext": "AI Model Juggler is a simple utility for serving multiple LLM and image generation backends or models as if simultaneously while only requiring enough VRAM for one at a time. It is written in Python, but has no external dependencies, making installation as simple as downloading the code.\n\nThat might sound a lot like [llama-swap](https://github.com/mostlygeek/llama-swap), but this one is considerably less sophisticated. If you're already using llama-swap and are happy with it, AI Model Juggler (I'm already starting to get tired of typing the name) will probably not be of much interest to you. I created this as a cursory reading of llama-swap's readme gave the impression that it only supports backends that support the OpenAI API, which excludes image generation through [Stable Diffusion WebUI Forge](https://github.com/lllyasviel/stable-diffusion-webui-forge).\n\nAI Model Juggler has a couple of tricks for keeping things fast. First, it allows unloading the image generation backend's model while keeping the backend running. This saves considerable time on image generation startup. It also supports saving and restoring llama.cpp's KV-cache to reduce prompt re-processing.\n\nThe project is in its very early stages, and the list of its limitations is longer than that of supported features. Most importantly, it currently only supports [llama.cpp](https://github.com/ggml-org/llama.cpp) for LLM inference and [Stable Diffusion web UI](https://github.com/AUTOMATIC1111/stable-diffusion-webui) / [Stable Diffusion WebUI Forge](https://github.com/lllyasviel/stable-diffusion-webui-forge) for image generation. Other backends could be easily added, but it makes limited sense to add ones that don't either start fast or else allow fast model unloading and reloading. The current pair does very well on this front, to the point that switching between them is almost imperceptible in many contexts, provided that the storage utilized is sufficiently fast.\n\nThe way request routing currently works (redirection, not proxying) makes AI Model Juggler less than an ideal choice for using the backends' built-in web UIs, and is only intended for exposing the APIs. It works well with applications such as [SillyTavern](https://github.com/SillyTavern/SillyTavern), though.\n\nThe project more or less meets my needs in its current state, but I'd be happy to improve it to make it more useful for others, so feedback, suggestions and feature requests are welcome.",
            "user_reports": [],
            "saved": false,
            "mod_reason_title": null,
            "gilded": 0,
            "clicked": false,
            "title": "AI Model Juggler automatically and transparently switches between LLM and image generation backends and models",
            "link_flair_richtext": [
              {
                "e": "text",
                "t": "Resources"
              }
            ],
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "hidden": false,
            "pwls": 6,
            "link_flair_css_class": "",
            "downs": 0,
            "thumbnail_height": 70,
            "top_awarded_type": null,
            "hide_score": false,
            "name": "t3_1m4n7fh",
            "quarantine": false,
            "link_flair_text_color": "light",
            "upvote_ratio": 0.91,
            "author_flair_background_color": null,
            "ups": 31,
            "total_awards_received": 0,
            "media_embed": {},
            "thumbnail_width": 140,
            "author_flair_template_id": null,
            "is_original_content": false,
            "author_fullname": "t2_1fw4w48cp6",
            "secure_media": null,
            "is_reddit_media_domain": false,
            "is_meta": false,
            "category": null,
            "secure_media_embed": {},
            "link_flair_text": "Resources",
            "can_mod_post": false,
            "score": 31,
            "approved_by": null,
            "is_created_from_ads_ui": false,
            "author_premium": false,
            "thumbnail": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?width=140&amp;height=70&amp;crop=140:70,smart&amp;auto=webp&amp;s=6f9f7215ed6ac082234170cd71c3bd73e1bf985e",
            "edited": false,
            "author_flair_css_class": null,
            "author_flair_richtext": [],
            "gildings": {},
            "post_hint": "link",
            "content_categories": null,
            "is_self": false,
            "subreddit_type": "public",
            "created": 1753012886,
            "link_flair_type": "richtext",
            "wls": 6,
            "removed_by_category": null,
            "banned_by": null,
            "author_flair_type": "text",
            "domain": "github.com",
            "allow_live_comments": false,
            "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;AI Model Juggler is a simple utility for serving multiple LLM and image generation backends or models as if simultaneously while only requiring enough VRAM for one at a time. It is written in Python, but has no external dependencies, making installation as simple as downloading the code.&lt;/p&gt;\n\n&lt;p&gt;That might sound a lot like &lt;a href=\"https://github.com/mostlygeek/llama-swap\"&gt;llama-swap&lt;/a&gt;, but this one is considerably less sophisticated. If you&amp;#39;re already using llama-swap and are happy with it, AI Model Juggler (I&amp;#39;m already starting to get tired of typing the name) will probably not be of much interest to you. I created this as a cursory reading of llama-swap&amp;#39;s readme gave the impression that it only supports backends that support the OpenAI API, which excludes image generation through &lt;a href=\"https://github.com/lllyasviel/stable-diffusion-webui-forge\"&gt;Stable Diffusion WebUI Forge&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;AI Model Juggler has a couple of tricks for keeping things fast. First, it allows unloading the image generation backend&amp;#39;s model while keeping the backend running. This saves considerable time on image generation startup. It also supports saving and restoring llama.cpp&amp;#39;s KV-cache to reduce prompt re-processing.&lt;/p&gt;\n\n&lt;p&gt;The project is in its very early stages, and the list of its limitations is longer than that of supported features. Most importantly, it currently only supports &lt;a href=\"https://github.com/ggml-org/llama.cpp\"&gt;llama.cpp&lt;/a&gt; for LLM inference and &lt;a href=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui\"&gt;Stable Diffusion web UI&lt;/a&gt; / &lt;a href=\"https://github.com/lllyasviel/stable-diffusion-webui-forge\"&gt;Stable Diffusion WebUI Forge&lt;/a&gt; for image generation. Other backends could be easily added, but it makes limited sense to add ones that don&amp;#39;t either start fast or else allow fast model unloading and reloading. The current pair does very well on this front, to the point that switching between them is almost imperceptible in many contexts, provided that the storage utilized is sufficiently fast.&lt;/p&gt;\n\n&lt;p&gt;The way request routing currently works (redirection, not proxying) makes AI Model Juggler less than an ideal choice for using the backends&amp;#39; built-in web UIs, and is only intended for exposing the APIs. It works well with applications such as &lt;a href=\"https://github.com/SillyTavern/SillyTavern\"&gt;SillyTavern&lt;/a&gt;, though.&lt;/p&gt;\n\n&lt;p&gt;The project more or less meets my needs in its current state, but I&amp;#39;d be happy to improve it to make it more useful for others, so feedback, suggestions and feature requests are welcome.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
            "likes": null,
            "suggested_sort": null,
            "banned_at_utc": null,
            "url_overridden_by_dest": "https://github.com/makedin/AI-Model-Juggler",
            "view_count": null,
            "archived": false,
            "no_follow": false,
            "is_crosspostable": false,
            "pinned": false,
            "over_18": false,
            "preview": {
              "images": [
                {
                  "source": {
                    "url": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?auto=webp&amp;s=f17abd6cea43a3f64301938e08a099bc64415635",
                    "width": 1200,
                    "height": 600
                  },
                  "resolutions": [
                    {
                      "url": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=c62c4ca86c3ececd35af14e2ce0f1d848f67bbdf",
                      "width": 108,
                      "height": 54
                    },
                    {
                      "url": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=4a12f0ea5347f97e7a7a871bb876dec1350b9714",
                      "width": 216,
                      "height": 108
                    },
                    {
                      "url": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=2c69a8e55a6dc5eed5fd923d434e793c6bd556d8",
                      "width": 320,
                      "height": 160
                    },
                    {
                      "url": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=d20ef388781d4fdb76232ce88c5fd1aa46da9841",
                      "width": 640,
                      "height": 320
                    },
                    {
                      "url": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=87a6cc187578bc386b19f7c4d805fa6a3a9dd7b5",
                      "width": 960,
                      "height": 480
                    },
                    {
                      "url": "https://external-preview.redd.it/U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=0cba71694069453ca1e7a1265a9246ac76ddfbc8",
                      "width": 1080,
                      "height": 540
                    }
                  ],
                  "variants": {},
                  "id": "U_oBf_gfttiNbAtXKPelsTxexbPQv3y9UoOvds_oQOI"
                }
              ],
              "enabled": false
            },
            "all_awardings": [],
            "awarders": [],
            "media_only": false,
            "link_flair_template_id": "ab9120c4-bf8e-11ed-ae5e-2eb8b7c7e10b",
            "can_gild": false,
            "spoiler": false,
            "locked": false,
            "author_flair_text": null,
            "treatment_tags": [],
            "visited": false,
            "removed_by": null,
            "mod_note": null,
            "distinguished": null,
            "subreddit_id": "t5_81eyvm",
            "author_is_blocked": false,
            "mod_reason_by": null,
            "num_reports": null,
            "removal_reason": null,
            "link_flair_background_color": "#ccac2b",
            "id": "1m4n7fh",
            "is_robot_indexable": true,
            "num_duplicates": 0,
            "report_reasons": null,
            "author": "Casual-Godzilla",
            "discussion_type": null,
            "num_comments": 3,
            "send_replies": true,
            "media": null,
            "contest_mode": false,
            "author_patreon_flair": false,
            "author_flair_text_color": null,
            "permalink": "/r/LocalLLaMA/comments/1m4n7fh/ai_model_juggler_automatically_and_transparently/",
            "stickied": false,
            "url": "https://github.com/makedin/AI-Model-Juggler",
            "subreddit_subscribers": 502030,
            "created_utc": 1753012886,
            "num_crossposts": 0,
            "mod_reports": [],
            "is_video": false
          }
        }
      ],
      "before": null
    }
  },
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": null,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t1",
          "data": {
            "subreddit_id": "t5_81eyvm",
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "author_flair_type": "text",
            "total_awards_received": 0,
            "subreddit": "LocalLLaMA",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "user_reports": [],
            "saved": false,
            "id": "n45qk8e",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "ali0une",
            "can_mod_post": false,
            "created_utc": 1753016327,
            "send_replies": true,
            "parent_id": "t3_1m4n7fh",
            "score": 1,
            "author_fullname": "t2_ciytjqdyn",
            "approved_by": null,
            "mod_note": null,
            "all_awardings": [],
            "collapsed": false,
            "body": "Will try! Thanks for sharing.",
            "edited": false,
            "top_awarded_type": null,
            "author_flair_css_class": null,
            "name": "t1_n45qk8e",
            "is_submitter": false,
            "downs": 0,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Will try! Thanks for sharing.&lt;/p&gt;\n&lt;/div&gt;",
            "removal_reason": null,
            "collapsed_reason": null,
            "distinguished": null,
            "associated_award": null,
            "stickied": false,
            "author_premium": false,
            "can_gild": false,
            "gildings": {},
            "unrepliable_reason": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/LocalLLaMA/comments/1m4n7fh/ai_model_juggler_automatically_and_transparently/n45qk8e/",
            "subreddit_type": "public",
            "locked": false,
            "report_reasons": null,
            "created": 1753016327,
            "author_flair_text": null,
            "treatment_tags": [],
            "link_id": "t3_1m4n7fh",
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "num_reports": null,
            "ups": 1
          }
        },
        {
          "kind": "t1",
          "data": {
            "subreddit_id": "t5_81eyvm",
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "author_flair_type": "text",
            "total_awards_received": 0,
            "subreddit": "LocalLLaMA",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "user_reports": [],
            "saved": false,
            "id": "n47nh2y",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "henfiber",
            "can_mod_post": false,
            "created_utc": 1753038034,
            "send_replies": true,
            "parent_id": "t3_1m4n7fh",
            "score": 1,
            "author_fullname": "t2_lw9me25",
            "approved_by": null,
            "mod_note": null,
            "all_awardings": [],
            "collapsed": false,
            "body": "I'm using llama-swap (llama-swappo to be exact for ollama compatibility) but will star it and test it in a few days.",
            "edited": false,
            "top_awarded_type": null,
            "author_flair_css_class": null,
            "name": "t1_n47nh2y",
            "is_submitter": false,
            "downs": 0,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m using llama-swap (llama-swappo to be exact for ollama compatibility) but will star it and test it in a few days.&lt;/p&gt;\n&lt;/div&gt;",
            "removal_reason": null,
            "collapsed_reason": null,
            "distinguished": null,
            "associated_award": null,
            "stickied": false,
            "author_premium": false,
            "can_gild": false,
            "gildings": {},
            "unrepliable_reason": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/LocalLLaMA/comments/1m4n7fh/ai_model_juggler_automatically_and_transparently/n47nh2y/",
            "subreddit_type": "public",
            "locked": false,
            "report_reasons": null,
            "created": 1753038034,
            "author_flair_text": null,
            "treatment_tags": [],
            "link_id": "t3_1m4n7fh",
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "num_reports": null,
            "ups": 1
          }
        },
        {
          "kind": "t1",
          "data": {
            "subreddit_id": "t5_81eyvm",
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "author_flair_type": "text",
            "total_awards_received": 0,
            "subreddit": "LocalLLaMA",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "user_reports": [],
            "saved": false,
            "id": "n49cwu2",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "shaolinmaru",
            "can_mod_post": false,
            "created_utc": 1753058390,
            "send_replies": true,
            "parent_id": "t3_1m4n7fh",
            "score": 1,
            "author_fullname": "t2_17jq0u",
            "approved_by": null,
            "mod_note": null,
            "all_awardings": [],
            "collapsed": false,
            "body": "For LLMs, Koboldcpp allow to change the models on the fly too.",
            "edited": false,
            "top_awarded_type": null,
            "author_flair_css_class": null,
            "name": "t1_n49cwu2",
            "is_submitter": false,
            "downs": 0,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;For LLMs, Koboldcpp allow to change the models on the fly too.&lt;/p&gt;\n&lt;/div&gt;",
            "removal_reason": null,
            "collapsed_reason": null,
            "distinguished": null,
            "associated_award": null,
            "stickied": false,
            "author_premium": false,
            "can_gild": false,
            "gildings": {},
            "unrepliable_reason": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/LocalLLaMA/comments/1m4n7fh/ai_model_juggler_automatically_and_transparently/n49cwu2/",
            "subreddit_type": "public",
            "locked": false,
            "report_reasons": null,
            "created": 1753058390,
            "author_flair_text": null,
            "treatment_tags": [],
            "link_id": "t3_1m4n7fh",
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "num_reports": null,
            "ups": 1
          }
        }
      ],
      "before": null
    }
  }
]