[
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": 1,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t3",
          "data": {
            "approved_at_utc": null,
            "subreddit": "LocalLLaMA",
            "selftext": "Hey everyone,\n\nI'm currently working on a document parsing pipeline for semi-structured documents like invoices, which can have highly variable layouts.\n\nMy current approach uses AWS Textract for OCR and layout extraction, then I pass the extracted text (and sometimes basic layout structure) into LLMs via LangChain for downstream parsing/classification tasks. However, the results are not as good as I expected — the models struggle to consistently identify and structure the fields across varying templates.\n\nI’m aware of models like LayoutLM and I’m currently testing them as well, but I’m not confident they’ll be enough for my specific use case, especially given the diversity in document structure.\n\nWould it make sense to fine-tune a LLaMA model using LoRA specifically for this task (e.g. key-value extraction from OCR’d documents)? Has anyone tried something similar or have thoughts on how well LLaMA-based models can handle this type of task compared to layout-aware models?\n\nAny tips, papers, or repo links would be greatly appreciated.\n\nThanks!",
            "user_reports": [],
            "saved": false,
            "mod_reason_title": null,
            "gilded": 0,
            "clicked": false,
            "title": "Fine-tuning LLaMA with LoRA for document parsing (invoices with varying layouts)?",
            "link_flair_richtext": [
              {
                "e": "text",
                "t": "Discussion"
              }
            ],
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "hidden": false,
            "pwls": 6,
            "link_flair_css_class": "",
            "downs": 0,
            "thumbnail_height": null,
            "top_awarded_type": null,
            "hide_score": false,
            "name": "t3_1mcuziy",
            "quarantine": false,
            "link_flair_text_color": "light",
            "upvote_ratio": 1,
            "author_flair_background_color": null,
            "subreddit_type": "public",
            "ups": 3,
            "total_awards_received": 0,
            "media_embed": {},
            "thumbnail_width": null,
            "author_flair_template_id": null,
            "is_original_content": false,
            "author_fullname": "t2_u8ymcwdb",
            "secure_media": null,
            "is_reddit_media_domain": false,
            "is_meta": false,
            "category": null,
            "secure_media_embed": {},
            "link_flair_text": "Discussion",
            "can_mod_post": false,
            "score": 3,
            "approved_by": null,
            "is_created_from_ads_ui": false,
            "author_premium": false,
            "thumbnail": "self",
            "edited": false,
            "author_flair_css_class": null,
            "author_flair_richtext": [],
            "gildings": {},
            "content_categories": null,
            "is_self": true,
            "mod_note": null,
            "created": 1753842904,
            "link_flair_type": "richtext",
            "wls": 6,
            "removed_by_category": null,
            "banned_by": null,
            "author_flair_type": "text",
            "domain": "self.LocalLLaMA",
            "allow_live_comments": false,
            "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey everyone,&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m currently working on a document parsing pipeline for semi-structured documents like invoices, which can have highly variable layouts.&lt;/p&gt;\n\n&lt;p&gt;My current approach uses AWS Textract for OCR and layout extraction, then I pass the extracted text (and sometimes basic layout structure) into LLMs via LangChain for downstream parsing/classification tasks. However, the results are not as good as I expected — the models struggle to consistently identify and structure the fields across varying templates.&lt;/p&gt;\n\n&lt;p&gt;I’m aware of models like LayoutLM and I’m currently testing them as well, but I’m not confident they’ll be enough for my specific use case, especially given the diversity in document structure.&lt;/p&gt;\n\n&lt;p&gt;Would it make sense to fine-tune a LLaMA model using LoRA specifically for this task (e.g. key-value extraction from OCR’d documents)? Has anyone tried something similar or have thoughts on how well LLaMA-based models can handle this type of task compared to layout-aware models?&lt;/p&gt;\n\n&lt;p&gt;Any tips, papers, or repo links would be greatly appreciated.&lt;/p&gt;\n\n&lt;p&gt;Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
            "likes": null,
            "suggested_sort": null,
            "banned_at_utc": null,
            "view_count": null,
            "archived": false,
            "no_follow": false,
            "is_crosspostable": false,
            "pinned": false,
            "over_18": false,
            "all_awardings": [],
            "awarders": [],
            "media_only": false,
            "link_flair_template_id": "5f921ea4-c7bc-11ed-9c23-3a00622979b4",
            "can_gild": false,
            "spoiler": false,
            "locked": false,
            "author_flair_text": null,
            "treatment_tags": [],
            "visited": false,
            "removed_by": null,
            "num_reports": null,
            "distinguished": null,
            "subreddit_id": "t5_81eyvm",
            "author_is_blocked": false,
            "mod_reason_by": null,
            "removal_reason": null,
            "link_flair_background_color": "#646d73",
            "id": "1mcuziy",
            "is_robot_indexable": true,
            "num_duplicates": 0,
            "report_reasons": null,
            "author": "existencialista27",
            "discussion_type": null,
            "num_comments": 2,
            "send_replies": true,
            "media": null,
            "contest_mode": false,
            "author_patreon_flair": false,
            "author_flair_text_color": null,
            "permalink": "/r/LocalLLaMA/comments/1mcuziy/finetuning_llama_with_lora_for_document_parsing/",
            "stickied": false,
            "url": "https://www.reddit.com/r/LocalLLaMA/comments/1mcuziy/finetuning_llama_with_lora_for_document_parsing/",
            "subreddit_subscribers": 507275,
            "created_utc": 1753842904,
            "num_crossposts": 0,
            "mod_reports": [],
            "is_video": false
          }
        }
      ],
      "before": null
    }
  },
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": null,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t1",
          "data": {
            "subreddit_id": "t5_81eyvm",
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "author_flair_type": "text",
            "total_awards_received": 0,
            "subreddit": "LocalLLaMA",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "user_reports": [],
            "saved": false,
            "id": "n5z88u5",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "Reason_is_Key",
            "can_mod_post": false,
            "created_utc": 1753883235,
            "send_replies": true,
            "parent_id": "t3_1mcuziy",
            "score": 1,
            "author_fullname": "t2_15j6i9",
            "approved_by": null,
            "mod_note": null,
            "all_awardings": [],
            "collapsed": false,
            "body": "We’ve faced similar pains with OCR + highly variable invoice layouts.\n\nBefore going down the LoRA route, might be worth testing Retab, it’s a cloud-based platform that handles parsing via promptable schema + model routing (including layout-aware LLMs), and deals surprisingly well with messy docs. No fine-tuning needed, and easy to evaluate on your own sample set. Could save you a lot of plumbing if you’re still exploring model performance.",
            "edited": false,
            "top_awarded_type": null,
            "author_flair_css_class": null,
            "name": "t1_n5z88u5",
            "is_submitter": false,
            "downs": 0,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;We’ve faced similar pains with OCR + highly variable invoice layouts.&lt;/p&gt;\n\n&lt;p&gt;Before going down the LoRA route, might be worth testing Retab, it’s a cloud-based platform that handles parsing via promptable schema + model routing (including layout-aware LLMs), and deals surprisingly well with messy docs. No fine-tuning needed, and easy to evaluate on your own sample set. Could save you a lot of plumbing if you’re still exploring model performance.&lt;/p&gt;\n&lt;/div&gt;",
            "removal_reason": null,
            "collapsed_reason": null,
            "distinguished": null,
            "associated_award": null,
            "stickied": false,
            "author_premium": false,
            "can_gild": false,
            "gildings": {},
            "unrepliable_reason": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/LocalLLaMA/comments/1mcuziy/finetuning_llama_with_lora_for_document_parsing/n5z88u5/",
            "subreddit_type": "public",
            "locked": false,
            "report_reasons": null,
            "created": 1753883235,
            "author_flair_text": null,
            "treatment_tags": [],
            "link_id": "t3_1mcuziy",
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "num_reports": null,
            "ups": 1
          }
        },
        {
          "kind": "t1",
          "data": {
            "subreddit_id": "t5_81eyvm",
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "author_flair_type": "text",
            "total_awards_received": 0,
            "subreddit": "LocalLLaMA",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "user_reports": [],
            "saved": false,
            "id": "n60f9ro",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "UBIAI",
            "can_mod_post": false,
            "created_utc": 1753895564,
            "send_replies": true,
            "parent_id": "t3_1mcuziy",
            "score": 1,
            "author_fullname": "t2_32tnavmg",
            "approved_by": null,
            "mod_note": null,
            "all_awardings": [],
            "collapsed": false,
            "body": "LLaMA is a generative model, and while it has some knowledge of documents, it doesn’t have the specialized pre-training that a predictive model like LayoutLM has. So even if you fine-tune LLaMA, you’d still need to do some work to get it to understand how to parse documents effectively. \n\nOne successful approach I've seen is to use an LLM to label a large amount of documents, review the data with human-in-the-loop and fine-tune a predictive model like layoutLM or DONUT. Here is a video about the layoutLM fine-tuning and some resources: [**https://ubiai.tools/fine-tuning-layoutlm-for-document-information-extraction/**](https://ubiai.tools/fine-tuning-layoutlm-for-document-information-extraction/)\n\nHappy to answer any questions.",
            "edited": false,
            "top_awarded_type": null,
            "author_flair_css_class": null,
            "name": "t1_n60f9ro",
            "is_submitter": false,
            "downs": 0,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;LLaMA is a generative model, and while it has some knowledge of documents, it doesn’t have the specialized pre-training that a predictive model like LayoutLM has. So even if you fine-tune LLaMA, you’d still need to do some work to get it to understand how to parse documents effectively. &lt;/p&gt;\n\n&lt;p&gt;One successful approach I&amp;#39;ve seen is to use an LLM to label a large amount of documents, review the data with human-in-the-loop and fine-tune a predictive model like layoutLM or DONUT. Here is a video about the layoutLM fine-tuning and some resources: &lt;a href=\"https://ubiai.tools/fine-tuning-layoutlm-for-document-information-extraction/\"&gt;&lt;strong&gt;https://ubiai.tools/fine-tuning-layoutlm-for-document-information-extraction/&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Happy to answer any questions.&lt;/p&gt;\n&lt;/div&gt;",
            "removal_reason": null,
            "collapsed_reason": null,
            "distinguished": null,
            "associated_award": null,
            "stickied": false,
            "author_premium": false,
            "can_gild": false,
            "gildings": {},
            "unrepliable_reason": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/LocalLLaMA/comments/1mcuziy/finetuning_llama_with_lora_for_document_parsing/n60f9ro/",
            "subreddit_type": "public",
            "locked": false,
            "report_reasons": null,
            "created": 1753895564,
            "author_flair_text": null,
            "treatment_tags": [],
            "link_id": "t3_1mcuziy",
            "subreddit_name_prefixed": "r/LocalLLaMA",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "num_reports": null,
            "ups": 1
          }
        }
      ],
      "before": null
    }
  }
]