import{j as e}from"./index-BgwOAK4-.js";import{R as t}from"./RedditPostRenderer-BOBjDTFu.js";import"./index-BL22wVg5.js";const a=JSON.parse(`[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"Hi everyone, I'm writing my first academic paper and planning to submit it to an NLP conference. My work is about getting user input and applying compression on it (I didn’t train a model for this). I’ve already picked the dataset and everything is pretty much ready.\\n\\nFor the evaluation part, I need to prompt the text after compression to a model and measure how effective the compression is. I’ve read a bunch of papers but still can’t make a final decision, some used instruct models for evaluation, while others chose base models.\\n\\nNow I’m kind of stuck on which one makes more sense to use and is more accepted in papers. I also read that most models on Hugging Face are saved in BF16, which is commonly used for fine-tuning and evaluation. On the other hand, converting to FP16 seems to be better for inference.\\n\\nI have a couple of questions:\\n\\nWhich model would you suggest for evaluation? Is the llama 3.1 8B base or instruct model more widely accepted?\\n\\nAnd if base is suggested, should I keep it in BF16 or convert it to FP16 when using it with TensorRT-LLM for inference?\\n\\nWould really appreciate your thoughts on this.","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"Choosing the Right Model for academic Evaluation: Llama 3.1 Base vs Instruct?","link_flair_richtext":[{"e":"text","t":"Question | Help"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1m0txlx","quarantine":false,"link_flair_text_color":"dark","upvote_ratio":1,"author_flair_background_color":null,"subreddit_type":"public","ups":2,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_tct783z28","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Question | Help","can_mod_post":false,"score":2,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"content_categories":null,"is_self":true,"mod_note":null,"created":1752613841,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;Hi everyone, I&amp;#39;m writing my first academic paper and planning to submit it to an NLP conference. My work is about getting user input and applying compression on it (I didn’t train a model for this). I’ve already picked the dataset and everything is pretty much ready.&lt;/p&gt;\\n\\n&lt;p&gt;For the evaluation part, I need to prompt the text after compression to a model and measure how effective the compression is. I’ve read a bunch of papers but still can’t make a final decision, some used instruct models for evaluation, while others chose base models.&lt;/p&gt;\\n\\n&lt;p&gt;Now I’m kind of stuck on which one makes more sense to use and is more accepted in papers. I also read that most models on Hugging Face are saved in BF16, which is commonly used for fine-tuning and evaluation. On the other hand, converting to FP16 seems to be better for inference.&lt;/p&gt;\\n\\n&lt;p&gt;I have a couple of questions:&lt;/p&gt;\\n\\n&lt;p&gt;Which model would you suggest for evaluation? Is the llama 3.1 8B base or instruct model more widely accepted?&lt;/p&gt;\\n\\n&lt;p&gt;And if base is suggested, should I keep it in BF16 or convert it to FP16 when using it with TensorRT-LLM for inference?&lt;/p&gt;\\n\\n&lt;p&gt;Would really appreciate your thoughts on this.&lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":false,"is_crosspostable":false,"pinned":false,"over_18":false,"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"2c9831e6-bf92-11ed-98e6-d2b8bcc02ae1","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#5a74cc","id":"1m0txlx","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"LocalComposer666","discussion_type":null,"num_comments":5,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1m0txlx/choosing_the_right_model_for_academic_evaluation/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1m0txlx/choosing_the_right_model_for_academic_evaluation/","subreddit_subscribers":499773,"created_utc":1752613841,"num_crossposts":1,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"richtext","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":"c07aa42e-51fe-11f0-afcc-462aad931709","likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"richtext","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":"c07aa42e-51fe-11f0-afcc-462aad931709","likes":null,"replies":"","user_reports":[],"saved":false,"id":"n3ff4rh","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":false,"author":"entsnack","can_mod_post":false,"send_replies":true,"parent_id":"t1_n3f74az","score":1,"author_fullname":"t2_1a48h7vf","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"You can use a system prompt with both base and instruct models (it is more natural for instruct models).\\n\\nThe base model just sees a sequence of words and predicts the next word. It's not the model if you want to spend time discussing prompt engineering and structure.\\n\\nTo be pragmatic, I'd experiment with both and pick the ones with better numbers.\\n\\nA warning: SFTTrainer with the chat format calculates the loss over ALL tokens, not just the completion. You should format your data as prompt-completion pairs instead.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n3ff4rh","is_submitter":false,"collapsed":false,"author_flair_richtext":[{"a":":X:","u":"https://emoji.redditmedia.com/tbgegafk739f1_t5_81eyvm/X","e":"emoji"}],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;You can use a system prompt with both base and instruct models (it is more natural for instruct models).&lt;/p&gt;\\n\\n&lt;p&gt;The base model just sees a sequence of words and predicts the next word. It&amp;#39;s not the model if you want to spend time discussing prompt engineering and structure.&lt;/p&gt;\\n\\n&lt;p&gt;To be pragmatic, I&amp;#39;d experiment with both and pick the ones with better numbers.&lt;/p&gt;\\n\\n&lt;p&gt;A warning: SFTTrainer with the chat format calculates the loss over ALL tokens, not just the completion. You should format your data as prompt-completion pairs instead.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m0txlx","unrepliable_reason":null,"author_flair_text_color":"dark","score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m0txlx/choosing_the_right_model_for_academic_evaluation/n3ff4rh/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752665235,"author_flair_text":":X:","treatment_tags":[],"created_utc":1752665235,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":"transparent","collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n3f74az","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":false,"author":"LocalComposer666","can_mod_post":false,"created_utc":1752661432,"send_replies":true,"parent_id":"t1_n3d2390","score":1,"author_fullname":"t2_tct783z28","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"**To maintain consistency and clarity in the model's outputs especially for a more reliable evaluation process, I intend to use system prompts for each dataset. These prompts will provide a brief overview of the input and instruct the model to generate focused, direct answers.**\\n\\n**With this setup, I believe using a base model should be a reasonable choice, right?**","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n3f74az","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;&lt;strong&gt;To maintain consistency and clarity in the model&amp;#39;s outputs especially for a more reliable evaluation process, I intend to use system prompts for each dataset. These prompts will provide a brief overview of the input and instruct the model to generate focused, direct answers.&lt;/strong&gt;&lt;/p&gt;\\n\\n&lt;p&gt;&lt;strong&gt;With this setup, I believe using a base model should be a reasonable choice, right?&lt;/strong&gt;&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m0txlx","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m0txlx/choosing_the_right_model_for_academic_evaluation/n3f74az/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752661432,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n3d2390","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":false,"author":"entsnack","can_mod_post":false,"created_utc":1752625872,"send_replies":true,"parent_id":"t3_1m0txlx","score":1,"author_fullname":"t2_1a48h7vf","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Both base and instruct are perfectly fine in terms of norms, you just have to use the right chat template (none in the case of base).","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n3d2390","is_submitter":false,"downs":0,"author_flair_richtext":[{"a":":X:","u":"https://emoji.redditmedia.com/tbgegafk739f1_t5_81eyvm/X","e":"emoji"}],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Both base and instruct are perfectly fine in terms of norms, you just have to use the right chat template (none in the case of base).&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":"dark","score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m0txlx/choosing_the_right_model_for_academic_evaluation/n3d2390/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752625872,"author_flair_text":":X:","treatment_tags":[],"link_id":"t3_1m0txlx","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":"transparent","collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n3ca2bs","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":false,"author":"ShengrenR","can_mod_post":false,"created_utc":1752616503,"send_replies":true,"parent_id":"t3_1m0txlx","score":0,"author_fullname":"t2_ji4n4","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"\\"I need to prompt the text after compression\\" - you sortof answer yourself, don't you? This is instruct model patterns - that said, you could do this just as well with a base-model, you just need to word thing in a leading manner such that the expected next part of the text is what you're looking for. Base models just continue, instruct tuned models reply, not much more to it than that.  \\nYour bf16 vs fp16 is possibly academic, but should really have next to no measurable impact on the results of your study. I don't think you want to waste time on that worry.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n3ca2bs","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;&amp;quot;I need to prompt the text after compression&amp;quot; - you sortof answer yourself, don&amp;#39;t you? This is instruct model patterns - that said, you could do this just as well with a base-model, you just need to word thing in a leading manner such that the expected next part of the text is what you&amp;#39;re looking for. Base models just continue, instruct tuned models reply, not much more to it than that.&lt;br/&gt;\\nYour bf16 vs fp16 is possibly academic, but should really have next to no measurable impact on the results of your study. I don&amp;#39;t think you want to waste time on that worry.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m0txlx/choosing_the_right_model_for_academic_evaluation/n3ca2bs/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752616503,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m0txlx","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":0}}],"before":null}}]`),n=()=>e.jsx(t,{data:a});export{n as default};
