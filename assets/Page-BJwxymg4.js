import{j as e}from"./index-BlGsFJYy.js";import{R as t}from"./RedditPostRenderer-B6uvq_Zl.js";import"./index-DDvVtNwD.js";const a=JSON.parse(`[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"I am doing research on determinism of LLM responses and want to run as the only job on the server but don't quite have the LLM ops skills to be confident in the backend setup. \\n\\nI currently use the standard hosted solutions (OpenAI and together.ai) and I assume that I am sharing input buffers/caches with other jobs which is likely the cause of non-determinism I see, substack post: [The Long Road to AGI Begins with Control](https://open.substack.com/pub/breckbaldwin/p/the-long-road-to-agi-begins-with).\\n\\nI have seen that locally run LLMs are deterministic so I wanted to validate earlier experiments but no longer have access to the hardware. I'd like to not be standing up an AWS server for each model and managing it.  \\n\\nI like the look of [https://www.inferless.com/](https://www.inferless.com/) which is a serverless GPU hosting service but don't quite have confidence of the execution environment. \\n\\nI am running locally with llama.cpp but have very limited memory, 8G, so figure I'd better go hit the cloud. \\n\\nSo I understand my options as:\\n\\n1. Stand up my own AWS box and run vLLM or llama.cpp with the tasks/models I want. I have not had good luck with this in the past and it was expensive to run a big box.   \\n2. [https://www.inferless.com/](https://www.inferless.com/)  or some similar service--this looks more manageable but the instructions are a bit convoluted but I can probably get it going. The key here is no sharing of resources since that is the primary likely culprit for the non-determinism I am seeing.   \\n3. Run locally, but can't run big models and am barely getting llama.cpp to work on 8Gb on M2 Air--current model is Llama-3.2-3B-Instruct-Q3\\\\_K\\\\_XL\\n\\nI'd like option 2. the most with a simpler \\"setup\\", \\"run\\" with automatic time out after 20 min. of inactivity. \\n\\nAny suggestions much appreciated.","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"Simplest way to run single batch jobs for experiments on determinism","link_flair_richtext":[{"e":"text","t":"Question | Help"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1ly19br","quarantine":false,"link_flair_text_color":"dark","upvote_ratio":0.88,"author_flair_background_color":null,"subreddit_type":"public","ups":6,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_199sgjfhdc","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Question | Help","can_mod_post":false,"score":6,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"post_hint":"self","content_categories":null,"is_self":true,"mod_note":null,"created":1752329093,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;I am doing research on determinism of LLM responses and want to run as the only job on the server but don&amp;#39;t quite have the LLM ops skills to be confident in the backend setup. &lt;/p&gt;\\n\\n&lt;p&gt;I currently use the standard hosted solutions (OpenAI and together.ai) and I assume that I am sharing input buffers/caches with other jobs which is likely the cause of non-determinism I see, substack post: &lt;a href=\\"https://open.substack.com/pub/breckbaldwin/p/the-long-road-to-agi-begins-with\\"&gt;The Long Road to AGI Begins with Control&lt;/a&gt;.&lt;/p&gt;\\n\\n&lt;p&gt;I have seen that locally run LLMs are deterministic so I wanted to validate earlier experiments but no longer have access to the hardware. I&amp;#39;d like to not be standing up an AWS server for each model and managing it.  &lt;/p&gt;\\n\\n&lt;p&gt;I like the look of &lt;a href=\\"https://www.inferless.com/\\"&gt;https://www.inferless.com/&lt;/a&gt; which is a serverless GPU hosting service but don&amp;#39;t quite have confidence of the execution environment. &lt;/p&gt;\\n\\n&lt;p&gt;I am running locally with llama.cpp but have very limited memory, 8G, so figure I&amp;#39;d better go hit the cloud. &lt;/p&gt;\\n\\n&lt;p&gt;So I understand my options as:&lt;/p&gt;\\n\\n&lt;ol&gt;\\n&lt;li&gt;Stand up my own AWS box and run vLLM or llama.cpp with the tasks/models I want. I have not had good luck with this in the past and it was expensive to run a big box.&lt;br/&gt;&lt;/li&gt;\\n&lt;li&gt;&lt;a href=\\"https://www.inferless.com/\\"&gt;https://www.inferless.com/&lt;/a&gt;  or some similar service--this looks more manageable but the instructions are a bit convoluted but I can probably get it going. The key here is no sharing of resources since that is the primary likely culprit for the non-determinism I am seeing.&lt;br/&gt;&lt;/li&gt;\\n&lt;li&gt;Run locally, but can&amp;#39;t run big models and am barely getting llama.cpp to work on 8Gb on M2 Air--current model is Llama-3.2-3B-Instruct-Q3_K_XL&lt;/li&gt;\\n&lt;/ol&gt;\\n\\n&lt;p&gt;I&amp;#39;d like option 2. the most with a simpler &amp;quot;setup&amp;quot;, &amp;quot;run&amp;quot; with automatic time out after 20 min. of inactivity. &lt;/p&gt;\\n\\n&lt;p&gt;Any suggestions much appreciated.&lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":false,"is_crosspostable":false,"pinned":false,"over_18":false,"preview":{"images":[{"source":{"url":"https://external-preview.redd.it/jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo.jpeg?auto=webp&amp;s=152dccb67db845eb779c39a35a30a1d5027bfe14","width":1200,"height":600},"resolutions":[{"url":"https://external-preview.redd.it/jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo.jpeg?width=108&amp;crop=smart&amp;auto=webp&amp;s=e83ed5374520087c4f2e15d5222be950ed938a6d","width":108,"height":54},{"url":"https://external-preview.redd.it/jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo.jpeg?width=216&amp;crop=smart&amp;auto=webp&amp;s=a1fe08560711cda49420ad4bb9dd7aa5dd596f0b","width":216,"height":108},{"url":"https://external-preview.redd.it/jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo.jpeg?width=320&amp;crop=smart&amp;auto=webp&amp;s=3cc3ab3c8f3b634c2b3650e3dcf0f3bed6bb8d32","width":320,"height":160},{"url":"https://external-preview.redd.it/jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo.jpeg?width=640&amp;crop=smart&amp;auto=webp&amp;s=ac92a3bc5c497f22229820aac08c0c371cb3e618","width":640,"height":320},{"url":"https://external-preview.redd.it/jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo.jpeg?width=960&amp;crop=smart&amp;auto=webp&amp;s=7f5744360718d7591425191b7f72221ca38bc80d","width":960,"height":480},{"url":"https://external-preview.redd.it/jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo.jpeg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=231f26134c09ef247941498e6e2fd4faae616b4a","width":1080,"height":540}],"variants":{},"id":"jqi0odKJy6fJscofKk0VuwXRmAfkJMHhX47K7LhbRFo"}],"enabled":false},"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"2c9831e6-bf92-11ed-98e6-d2b8bcc02ae1","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#5a74cc","id":"1ly19br","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"Skiata","discussion_type":null,"num_comments":6,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/","subreddit_subscribers":498345,"created_utc":1752329093,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"distinguished":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n2rrmr8","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"no_witty_username","can_mod_post":false,"send_replies":true,"parent_id":"t1_n2rpcux","score":1,"author_fullname":"t2_4j2nc","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"There are actually interesting philosophical related questions i've thought about deterministic code execution and whatnot.  From 100% deterministic perspective it seems its quite impossible for any code to achieve that as you are at the whimsy of stray cosmic rays and other confounding variables. Sure they are very rare, but they do happen non the less.  And the philosophical part comes in when you consider just this. Assuming that exterior environment outside your own system is at least somewhat similar an just as noisy as your own, you can also assume that that noise would leek in to the interior system as well. Meaning that lets say you have a simulated environment of a pocket universe, the affects of the exterior \\"universe\\" would still leak in to the pocket universe.  And that \\"noise\\" can be used as a signal from within that pocket system. Like using cosmic rays as a source for an RNG. Anyways just some ramblings...","edited":false,"author_flair_css_class":null,"name":"t1_n2rrmr8","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;There are actually interesting philosophical related questions i&amp;#39;ve thought about deterministic code execution and whatnot.  From 100% deterministic perspective it seems its quite impossible for any code to achieve that as you are at the whimsy of stray cosmic rays and other confounding variables. Sure they are very rare, but they do happen non the less.  And the philosophical part comes in when you consider just this. Assuming that exterior environment outside your own system is at least somewhat similar an just as noisy as your own, you can also assume that that noise would leek in to the interior system as well. Meaning that lets say you have a simulated environment of a pocket universe, the affects of the exterior &amp;quot;universe&amp;quot; would still leak in to the pocket universe.  And that &amp;quot;noise&amp;quot; can be used as a signal from within that pocket system. Like using cosmic rays as a source for an RNG. Anyways just some ramblings...&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"link_id":"t3_1ly19br","associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"top_awarded_type":null,"unrepliable_reason":null,"author_flair_text_color":null,"treatment_tags":[],"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/n2rrmr8/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752345902,"author_flair_text":null,"collapsed":false,"created_utc":1752345902,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":4,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n2rpcux","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Skiata","can_mod_post":false,"send_replies":true,"parent_id":"t1_n2rin68","score":1,"author_fullname":"t2_199sgjfhdc","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Looking into llama.cpp there appears to be batching, [https://github.com/ggml-org/llama.cpp/discussions/4130#discussioncomment-8053636](https://github.com/ggml-org/llama.cpp/discussions/4130#discussioncomment-8053636), so I'll see if I can get my head around that. \\n\\nI'd be so much more comfortable with my analysis if I had working non-deterministic code that shadowed what is going on in hosted environments.   \\n  \\nBTW latest experiment with Llama-3.2-3B-Instruct-Q3\\\\_K\\\\_XL on llama.cpp single batched is perfectly deterministic. Now lets see if we can break it.....;)","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n2rpcux","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Looking into llama.cpp there appears to be batching, &lt;a href=\\"https://github.com/ggml-org/llama.cpp/discussions/4130#discussioncomment-8053636\\"&gt;https://github.com/ggml-org/llama.cpp/discussions/4130#discussioncomment-8053636&lt;/a&gt;, so I&amp;#39;ll see if I can get my head around that. &lt;/p&gt;\\n\\n&lt;p&gt;I&amp;#39;d be so much more comfortable with my analysis if I had working non-deterministic code that shadowed what is going on in hosted environments.   &lt;/p&gt;\\n\\n&lt;p&gt;BTW latest experiment with Llama-3.2-3B-Instruct-Q3_K_XL on llama.cpp single batched is perfectly deterministic. Now lets see if we can break it.....;)&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1ly19br","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/n2rpcux/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752345182,"author_flair_text":null,"treatment_tags":[],"created_utc":1752345182,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":3,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n2rin68","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"no_witty_username","can_mod_post":false,"send_replies":true,"parent_id":"t1_n2rggwx","score":2,"author_fullname":"t2_4j2nc","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Don't know about providers as I do all my research locally on llama.cpp because I have full control of everything.  But i must say, as far as deterministic outcomes are concerned, I doubt you will get 100% deterministic outputs even with a very locked down local system because there are many factors involved on a fundamental level that prevent this.  Something as small as the drivers, kernels and many other bare metal ingredients have an effect on sampling outputs.  Now that's not to say you cant get close.  If you lock down as many factors as possible you will get identical outputs most of the time, just don't expect exact same output if you sample lets say 1million outputs or whatever. you will have 99.9% probably same samples with a very small deviation here or there. Its quite possible some of those samples will deviate even if by a tiny bit and the number of instances grows as you sample size grows.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n2rin68","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Don&amp;#39;t know about providers as I do all my research locally on llama.cpp because I have full control of everything.  But i must say, as far as deterministic outcomes are concerned, I doubt you will get 100% deterministic outputs even with a very locked down local system because there are many factors involved on a fundamental level that prevent this.  Something as small as the drivers, kernels and many other bare metal ingredients have an effect on sampling outputs.  Now that&amp;#39;s not to say you cant get close.  If you lock down as many factors as possible you will get identical outputs most of the time, just don&amp;#39;t expect exact same output if you sample lets say 1million outputs or whatever. you will have 99.9% probably same samples with a very small deviation here or there. Its quite possible some of those samples will deviate even if by a tiny bit and the number of instances grows as you sample size grows.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1ly19br","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/n2rin68/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752343070,"author_flair_text":null,"treatment_tags":[],"created_utc":1752343070,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}}],"before":null}},"user_reports":[],"saved":false,"id":"n2rggwx","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Skiata","can_mod_post":false,"created_utc":1752342410,"send_replies":true,"parent_id":"t1_n2r1fmj","score":1,"author_fullname":"t2_199sgjfhdc","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"The determinism research is a combination \\"ethnographic study\\", meaning understand the performance of LLMs as actually used--that is hosted for most users I am pretty sure--and then an exploration of mitigation strategies.  \\n\\nThe ask above is to nail down one possible approach to achieving determinism--host the model locally or your own instance in the cloud AND be the only job on the LLM. Ideally I'd be able to say something like \\"hosted Llama 3 70b is not deterministic but if you run on your own server with no other LLM jobs it is deterministic.\\" Can't do that with proprietary models but there is a pretty good apples to apples comparison if I can get a believable open weights model that people actually use running just for me. So the modes I can fit on my 8G machine don't support that comparison. \\n\\nYou bring up an important point, I don't have a strong model of why non-determinism is happening. And I agree with you that running a small local model that recreates the problem would be super valuable. So a follow up question if I may:\\n\\n1. Do any of the common hosting frameworks support input packing, job caching...etc....so I can recreate some version of what I am seeing out of open weights hosts like together.ai? Is llama.cpp the relevant framework to do these experiments? \\n\\nthanks for the feedback....","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n2rggwx","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;The determinism research is a combination &amp;quot;ethnographic study&amp;quot;, meaning understand the performance of LLMs as actually used--that is hosted for most users I am pretty sure--and then an exploration of mitigation strategies.  &lt;/p&gt;\\n\\n&lt;p&gt;The ask above is to nail down one possible approach to achieving determinism--host the model locally or your own instance in the cloud AND be the only job on the LLM. Ideally I&amp;#39;d be able to say something like &amp;quot;hosted Llama 3 70b is not deterministic but if you run on your own server with no other LLM jobs it is deterministic.&amp;quot; Can&amp;#39;t do that with proprietary models but there is a pretty good apples to apples comparison if I can get a believable open weights model that people actually use running just for me. So the modes I can fit on my 8G machine don&amp;#39;t support that comparison. &lt;/p&gt;\\n\\n&lt;p&gt;You bring up an important point, I don&amp;#39;t have a strong model of why non-determinism is happening. And I agree with you that running a small local model that recreates the problem would be super valuable. So a follow up question if I may:&lt;/p&gt;\\n\\n&lt;ol&gt;\\n&lt;li&gt;Do any of the common hosting frameworks support input packing, job caching...etc....so I can recreate some version of what I am seeing out of open weights hosts like together.ai? Is llama.cpp the relevant framework to do these experiments? &lt;/li&gt;\\n&lt;/ol&gt;\\n\\n&lt;p&gt;thanks for the feedback....&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1ly19br","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/n2rggwx/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752342410,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n2r1fmj","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"no_witty_username","can_mod_post":false,"created_utc":1752337835,"send_replies":true,"parent_id":"t3_1ly19br","score":1,"author_fullname":"t2_4j2nc","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"There is no need to run large models to understand how they react to various variables. Most machine learning researchers started out with GPT2 and learned from that after all...  With that in mind you should have no issues running a small 3b or 4b LLM locally on an 8gb Vram budget. From there its pretty straight forward, control for all the hyperparameters like seed, sampler, etc and run a bunch of calls.  Running anything non local is a waste of time as you are not controlling for all the hyperparameters.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n2r1fmj","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;There is no need to run large models to understand how they react to various variables. Most machine learning researchers started out with GPT2 and learned from that after all...  With that in mind you should have no issues running a small 3b or 4b LLM locally on an 8gb Vram budget. From there its pretty straight forward, control for all the hyperparameters like seed, sampler, etc and run a bunch of calls.  Running anything non local is a waste of time as you are not controlling for all the hyperparameters.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/n2r1fmj/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752337835,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1ly19br","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n2wsmff","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Skiata","can_mod_post":false,"created_utc":1752419941,"send_replies":true,"parent_id":"t3_1ly19br","score":1,"author_fullname":"t2_199sgjfhdc","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"TL;DR Got non-determinism happening on my M2 Air with 8G thanks to u/no_witty_username and the fine software of llama.cpp. \\n\\nMany thanks to u/no_witty_username for encouraging me to run my own LLM locally on my measly M2 Air with 8G. It makes a huge difference to be able to watch the server output scroll past, mess around with settings--it is like the difference between a manual transmission on a Miata and an automatic. \\n\\nAlso thanks to the Llama.cpp folks for making it so easy and ChatGPT for helping with setup and scripting. \\n\\nThe result of all this is a minimum example of non-determinism achieved by changing the relative order of the two prompts in llama.cpp batch configuration.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n2wsmff","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;TL;DR Got non-determinism happening on my M2 Air with 8G thanks to &lt;a href=\\"/u/no_witty_username\\"&gt;u/no_witty_username&lt;/a&gt; and the fine software of llama.cpp. &lt;/p&gt;\\n\\n&lt;p&gt;Many thanks to &lt;a href=\\"/u/no_witty_username\\"&gt;u/no_witty_username&lt;/a&gt; for encouraging me to run my own LLM locally on my measly M2 Air with 8G. It makes a huge difference to be able to watch the server output scroll past, mess around with settings--it is like the difference between a manual transmission on a Miata and an automatic. &lt;/p&gt;\\n\\n&lt;p&gt;Also thanks to the Llama.cpp folks for making it so easy and ChatGPT for helping with setup and scripting. &lt;/p&gt;\\n\\n&lt;p&gt;The result of all this is a minimum example of non-determinism achieved by changing the relative order of the two prompts in llama.cpp batch configuration.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1ly19br/simplest_way_to_run_single_batch_jobs_for/n2wsmff/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752419941,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1ly19br","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}}]`),s=()=>e.jsx(t,{data:a});export{s as default};
