import{j as t}from"./index-CWmJdUH_.js";import{R as e}from"./RedditPostRenderer-D2iunoQ9.js";import"./index-BCg9RP6g.js";const a=JSON.parse('[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"This is an app that is intended for bulk captioning directories full of images.  Mostly useful for people who have a lot of images and want to train diffusion model LORAs or similar and 1) don\'t want to caption by hand and 2) don\'t get acceptable results from plain 1-shotting with other VLM/captioning scripts.\\n\\nThe reason for the app is often fine tuners just try to 1-shot with their favorite VLM but adding a bit of process and some features can help immensely.  This app is setup to N-shot through a series of prompts, then capture the final output and save as a .txt file alongside each image.  You can paste in large documents describing the general \\"universe\\" of images, such as physical descriptions of every character in a fiction, and use the multi-step prompt to ask the VLM to identify the characters, ask it to describe the overall scene, then finally summarize the overall image to get a final caption.  I get remarkable results with this with modern VLMs like Gemma 3 27B.\\n\\nThe secondary reason for the app is to disconnect this type of automated captioning workflow with actual VLM hosting. This app will require you host with something like LM Studio or ollama, but unlocks every gguf model out there without this app having to manage compatibility and dependencies or be updated when new models come out or HF transformers is updated.  The app itself doesn\'t host anything but a Python/Flask/React/Electron app and is relatively small.  I\'ve previously made some caption scripts that require python, transformers, diffusers, etc. and often shit just breaks over time and requiring pytorch makes delivering a small portable app virtually impossible.\\n\\nThe app also has some ability to read from extra metadata files, though not currently exposed in the electron GUI app.  See hint sources documentation, but tldr: it can optionally add more context like file path or read from metadata in the folder or alongside images (i.e. stuff you might have collected from webscraping scripts).\\n\\nPrerequisite:\\n\\nInstall LM Studio or whatever VLM/LLM host you want.  In LM Studio, enable the service from Developer tab.  You\'ll also need to Enable CORS as well if you want to use the Electron app/GUI. Ollama or others, read docs, this is r/localllama I\'m sure you know wtf you\'re doing here.\\n\\nRepo:\\n\\n[https://github.com/victorchall/vlm-caption](https://github.com/victorchall/vlm-caption)\\n\\nLatest release for standalone/installer:\\n\\n[https://github.com/victorchall/vlm-caption/releases/tag/v1.0.36](https://github.com/victorchall/vlm-caption/releases/tag/v1.0.36)\\n\\nThere are a few options to run this:\\n\\n1. Python command line (git clone, setup venv, install requirements, edit \\\\`caption.yaml\\\\` to configure, run \\\\`python caption\\\\_openai.py\\\\`)\\n\\n2. Same as above but then run \\\\`cd ui &amp;&amp; npm run electron-dev\\\\` to run the entire GUI/app from source. \\n\\n3. Windows portable CLI EXE  - download [vlm-caption-cli.zip](https://github.com/victorchall/vlm-caption/releases/download/v1.0.36/vlm-caption-cli.zip), unzip, edit caption.yaml and run the exe. This is standalone so you don\'t need to even install python. If you\'re ok with editing a yaml file and reading some documentation and don\'t care about a pretty GUI, this will work.\\n\\n4. Windows standalone/installer electron GUI app. Uuse the [LM.Caption.Setup.0.1.0.exe](https://github.com/victorchall/vlm-caption/releases/download/v1.0.36/VLM.Caption.Setup.0.1.0.exe) installer.\\n\\nFull code and build process is in the repo and it builds on a hosted Github Action runner if you\'re nervous about running an unknown exe or are wary of the \\"unknown publisher\\" warning.  Or run it from source, idgaf, it\'s a FOSS hobby project.\\n\\nDocs in the repo are relatively up to date if you want to look them over.   The GUI could use a bit of work as it is missing a minor feature or two, will likely update later this week or weekend.  \\n","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"Bulk captioning/VLM query tool, standalone app","link_flair_richtext":[{"e":"text","t":"Resources"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":137,"top_awarded_type":null,"hide_score":false,"name":"t3_1lvsw5d","quarantine":false,"link_flair_text_color":"light","upvote_ratio":0.85,"author_flair_background_color":null,"ups":9,"total_awards_received":0,"media_embed":{},"thumbnail_width":140,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_8xi6x","secure_media":null,"is_reddit_media_domain":true,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Resources","can_mod_post":false,"score":9,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"https://b.thumbs.redditmedia.com/TDKF8Gd-Rs639wsKkkQi4vZDCwA-t9w-beK8qdQI9Bg.jpg","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"post_hint":"image","content_categories":null,"is_self":false,"subreddit_type":"public","created":1752091708,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"i.redd.it","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;This is an app that is intended for bulk captioning directories full of images.  Mostly useful for people who have a lot of images and want to train diffusion model LORAs or similar and 1) don&amp;#39;t want to caption by hand and 2) don&amp;#39;t get acceptable results from plain 1-shotting with other VLM/captioning scripts.&lt;/p&gt;\\n\\n&lt;p&gt;The reason for the app is often fine tuners just try to 1-shot with their favorite VLM but adding a bit of process and some features can help immensely.  This app is setup to N-shot through a series of prompts, then capture the final output and save as a .txt file alongside each image.  You can paste in large documents describing the general &amp;quot;universe&amp;quot; of images, such as physical descriptions of every character in a fiction, and use the multi-step prompt to ask the VLM to identify the characters, ask it to describe the overall scene, then finally summarize the overall image to get a final caption.  I get remarkable results with this with modern VLMs like Gemma 3 27B.&lt;/p&gt;\\n\\n&lt;p&gt;The secondary reason for the app is to disconnect this type of automated captioning workflow with actual VLM hosting. This app will require you host with something like LM Studio or ollama, but unlocks every gguf model out there without this app having to manage compatibility and dependencies or be updated when new models come out or HF transformers is updated.  The app itself doesn&amp;#39;t host anything but a Python/Flask/React/Electron app and is relatively small.  I&amp;#39;ve previously made some caption scripts that require python, transformers, diffusers, etc. and often shit just breaks over time and requiring pytorch makes delivering a small portable app virtually impossible.&lt;/p&gt;\\n\\n&lt;p&gt;The app also has some ability to read from extra metadata files, though not currently exposed in the electron GUI app.  See hint sources documentation, but tldr: it can optionally add more context like file path or read from metadata in the folder or alongside images (i.e. stuff you might have collected from webscraping scripts).&lt;/p&gt;\\n\\n&lt;p&gt;Prerequisite:&lt;/p&gt;\\n\\n&lt;p&gt;Install LM Studio or whatever VLM/LLM host you want.  In LM Studio, enable the service from Developer tab.  You&amp;#39;ll also need to Enable CORS as well if you want to use the Electron app/GUI. Ollama or others, read docs, this is &lt;a href=\\"/r/localllama\\"&gt;r/localllama&lt;/a&gt; I&amp;#39;m sure you know wtf you&amp;#39;re doing here.&lt;/p&gt;\\n\\n&lt;p&gt;Repo:&lt;/p&gt;\\n\\n&lt;p&gt;&lt;a href=\\"https://github.com/victorchall/vlm-caption\\"&gt;https://github.com/victorchall/vlm-caption&lt;/a&gt;&lt;/p&gt;\\n\\n&lt;p&gt;Latest release for standalone/installer:&lt;/p&gt;\\n\\n&lt;p&gt;&lt;a href=\\"https://github.com/victorchall/vlm-caption/releases/tag/v1.0.36\\"&gt;https://github.com/victorchall/vlm-caption/releases/tag/v1.0.36&lt;/a&gt;&lt;/p&gt;\\n\\n&lt;p&gt;There are a few options to run this:&lt;/p&gt;\\n\\n&lt;ol&gt;\\n&lt;li&gt;&lt;p&gt;Python command line (git clone, setup venv, install requirements, edit `caption.yaml` to configure, run `python caption_openai.py`)&lt;/p&gt;&lt;/li&gt;\\n&lt;li&gt;&lt;p&gt;Same as above but then run `cd ui &amp;amp;&amp;amp; npm run electron-dev` to run the entire GUI/app from source. &lt;/p&gt;&lt;/li&gt;\\n&lt;li&gt;&lt;p&gt;Windows portable CLI EXE  - download &lt;a href=\\"https://github.com/victorchall/vlm-caption/releases/download/v1.0.36/vlm-caption-cli.zip\\"&gt;vlm-caption-cli.zip&lt;/a&gt;, unzip, edit caption.yaml and run the exe. This is standalone so you don&amp;#39;t need to even install python. If you&amp;#39;re ok with editing a yaml file and reading some documentation and don&amp;#39;t care about a pretty GUI, this will work.&lt;/p&gt;&lt;/li&gt;\\n&lt;li&gt;&lt;p&gt;Windows standalone/installer electron GUI app. Uuse the &lt;a href=\\"https://github.com/victorchall/vlm-caption/releases/download/v1.0.36/VLM.Caption.Setup.0.1.0.exe\\"&gt;LM.Caption.Setup.0.1.0.exe&lt;/a&gt; installer.&lt;/p&gt;&lt;/li&gt;\\n&lt;/ol&gt;\\n\\n&lt;p&gt;Full code and build process is in the repo and it builds on a hosted Github Action runner if you&amp;#39;re nervous about running an unknown exe or are wary of the &amp;quot;unknown publisher&amp;quot; warning.  Or run it from source, idgaf, it&amp;#39;s a FOSS hobby project.&lt;/p&gt;\\n\\n&lt;p&gt;Docs in the repo are relatively up to date if you want to look them over.   The GUI could use a bit of work as it is missing a minor feature or two, will likely update later this week or weekend.  &lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"url_overridden_by_dest":"https://i.redd.it/iznsrnd5iwbf1.png","view_count":null,"archived":false,"no_follow":false,"is_crosspostable":false,"pinned":false,"over_18":false,"preview":{"images":[{"source":{"url":"https://preview.redd.it/iznsrnd5iwbf1.png?auto=webp&amp;s=58bc05ebcaa7f4457a37c8989ca0dc55bc59bd89","width":1410,"height":1386},"resolutions":[{"url":"https://preview.redd.it/iznsrnd5iwbf1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=5223c5fb4dfdbd9fd10de8dec952afc8edc09fb6","width":108,"height":106},{"url":"https://preview.redd.it/iznsrnd5iwbf1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=e0a12b548c3a5eaac7f180bb7e8094c974afa24f","width":216,"height":212},{"url":"https://preview.redd.it/iznsrnd5iwbf1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=588858a8441f629edcb8e0f1a49a510ac4f2e656","width":320,"height":314},{"url":"https://preview.redd.it/iznsrnd5iwbf1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=2f593b9ad38e31ba6846b8ef9d3682f4bbbfa1cf","width":640,"height":629},{"url":"https://preview.redd.it/iznsrnd5iwbf1.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=390b0eb940ca18328243b2d080c564dcfb2c903e","width":960,"height":943},{"url":"https://preview.redd.it/iznsrnd5iwbf1.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=d473cb95bdd436d50c3906a27e1d5ac518c685b0","width":1080,"height":1061}],"variants":{},"id":"85gRTUGwVoOmYyF9EMxAH-KRf_qfg2VffYDg2-O1lj4"}],"enabled":true},"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"ab9120c4-bf8e-11ed-ae5e-2eb8b7c7e10b","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"mod_note":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"num_reports":null,"removal_reason":null,"link_flair_background_color":"#ccac2b","id":"1lvsw5d","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"Freonr2","discussion_type":null,"num_comments":0,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1lvsw5d/bulk_captioningvlm_query_tool_standalone_app/","stickied":false,"url":"https://i.redd.it/iznsrnd5iwbf1.png","subreddit_subscribers":497354,"created_utc":1752091708,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[],"before":null}}]'),l=()=>t.jsx(e,{data:a});export{l as default};
