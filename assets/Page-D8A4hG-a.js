import{j as e}from"./index-xfnGEtuL.js";import{R as l}from"./RedditPostRenderer-DAZRIZZK.js";import"./index-BaNn5-RR.js";const a=JSON.parse('[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"Hey there, I have a RX 7800 XT 16GB and a summary prompt, looking for a model to run it.\\n\\nWhat are my issues? There are basically 2 main issues I have faced:\\n1. Long context 32/64k tokens.\\n2. Multi language.\\n\\nI have noticed that all models that give pretty decent quality are about 20b+ size. Quantized version can fit into 16GB VRAM but there is no place left for Cache.\\nIf you offload Cache on RAM, prompt processing is really bad.\\n\\nI tried Gemma 3 27b, 32k message takes about an hour to process. Mistral 22b was faster, but is still about half an hour. All because of super slow PP.\\n\\n- Is there any advice how to speed it up?\\n- Maybe you know small 8B model that performs good summarization on different languages? (English, Spanish, Portuguese, Chinese, Russian, Japanese, Korean,..)","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"HOWTO summarize on 16GB VRAM with 64k cache?","link_flair_richtext":[{"e":"text","t":"Question | Help"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1m5fg2y","quarantine":false,"link_flair_text_color":"dark","upvote_ratio":0.5,"author_flair_background_color":null,"subreddit_type":"public","ups":0,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_1umam7ln","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Question | Help","can_mod_post":false,"score":0,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"content_categories":null,"is_self":true,"mod_note":null,"created":1753094120,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;Hey there, I have a RX 7800 XT 16GB and a summary prompt, looking for a model to run it.&lt;/p&gt;\\n\\n&lt;p&gt;What are my issues? There are basically 2 main issues I have faced:\\n1. Long context 32/64k tokens.\\n2. Multi language.&lt;/p&gt;\\n\\n&lt;p&gt;I have noticed that all models that give pretty decent quality are about 20b+ size. Quantized version can fit into 16GB VRAM but there is no place left for Cache.\\nIf you offload Cache on RAM, prompt processing is really bad.&lt;/p&gt;\\n\\n&lt;p&gt;I tried Gemma 3 27b, 32k message takes about an hour to process. Mistral 22b was faster, but is still about half an hour. All because of super slow PP.&lt;/p&gt;\\n\\n&lt;ul&gt;\\n&lt;li&gt;Is there any advice how to speed it up?&lt;/li&gt;\\n&lt;li&gt;Maybe you know small 8B model that performs good summarization on different languages? (English, Spanish, Portuguese, Chinese, Russian, Japanese, Korean,..)&lt;/li&gt;\\n&lt;/ul&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":true,"is_crosspostable":false,"pinned":false,"over_18":false,"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"2c9831e6-bf92-11ed-98e6-d2b8bcc02ae1","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#5a74cc","id":"1m5fg2y","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"COBECT","discussion_type":null,"num_comments":9,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/","subreddit_subscribers":502721,"created_utc":1753094120,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"distinguished":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4bmvst","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Ready_Astronomer3196","can_mod_post":false,"send_replies":true,"parent_id":"t1_n4blpl0","score":1,"author_fullname":"t2_o58mjmpz","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"How about Flash Attention? Also, you could try chunked summarisation pipeline.","edited":false,"author_flair_css_class":null,"name":"t1_n4bmvst","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;How about Flash Attention? Also, you could try chunked summarisation pipeline.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"link_id":"t3_1m5fg2y","associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"top_awarded_type":null,"unrepliable_reason":null,"author_flair_text_color":null,"treatment_tags":[],"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4bmvst/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753097255,"author_flair_text":null,"collapsed":false,"created_utc":1753097255,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":4,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n4blpl0","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"COBECT","can_mod_post":false,"send_replies":true,"parent_id":"t1_n4blgqv","score":1,"author_fullname":"t2_1umam7ln","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Llama.cpp. I don’t use parallel requests, so this works fine.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4blpl0","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Llama.cpp. I don’t use parallel requests, so this works fine.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m5fg2y","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4blpl0/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753096729,"author_flair_text":null,"treatment_tags":[],"created_utc":1753096729,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":3,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n4blgqv","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Ready_Astronomer3196","can_mod_post":false,"send_replies":true,"parent_id":"t1_n4bkosh","score":1,"author_fullname":"t2_o58mjmpz","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"What’s inference engine do you use?","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n4blgqv","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;What’s inference engine do you use?&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m5fg2y","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4blgqv/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753096617,"author_flair_text":null,"treatment_tags":[],"created_utc":1753096617,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4bpw63","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"AppearanceHeavy6724","can_mod_post":false,"send_replies":true,"parent_id":"t1_n4bkosh","score":1,"author_fullname":"t2_uz37qfx5","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Gemma 3 is super awful at long context, use qwen 3 instead.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n4bpw63","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Gemma 3 is super awful at long context, use qwen 3 instead.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m5fg2y","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4bpw63/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753098562,"author_flair_text":null,"treatment_tags":[],"created_utc":1753098562,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n4bkosh","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"COBECT","can_mod_post":false,"created_utc":1753096260,"send_replies":true,"parent_id":"t1_n4bkeg5","score":1,"author_fullname":"t2_1umam7ln","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Unfortunately they lose the idea of a text. Tried 12b and 4b, but results are not that good. Also tried Gemma 3n, but its max context size is 32k, that sometimes is not enough.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4bkosh","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Unfortunately they lose the idea of a text. Tried 12b and 4b, but results are not that good. Also tried Gemma 3n, but its max context size is 32k, that sometimes is not enough.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m5fg2y","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4bkosh/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753096260,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n4bkeg5","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Ready_Astronomer3196","can_mod_post":false,"created_utc":1753096125,"send_replies":true,"parent_id":"t3_1m5fg2y","score":1,"author_fullname":"t2_o58mjmpz","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Why just don’t try a smaller gemma-3 models? They still pretty smart in some multi-language tasks.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4bkeg5","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Why just don’t try a smaller gemma-3 models? They still pretty smart in some multi-language tasks.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4bkeg5/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753096125,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m5fg2y","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4c4klh","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"COBECT","can_mod_post":false,"created_utc":1753103977,"send_replies":true,"parent_id":"t1_n4bpra5","score":1,"author_fullname":"t2_1umam7ln","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Llama supports only few languages, Qwen puts some Chinese in text","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4c4klh","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Llama supports only few languages, Qwen puts some Chinese in text&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m5fg2y","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4c4klh/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753103977,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n4bpra5","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"AppearanceHeavy6724","can_mod_post":false,"created_utc":1753098507,"send_replies":true,"parent_id":"t3_1m5fg2y","score":1,"author_fullname":"t2_uz37qfx5","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"1. Try offloading not the cache to ram but the model itself. \\n\\n2. IMO the best at summarisation at 8b would be Qwen 3 8b. You may also try llama3.1-nemotron-1M context. Try also Ministral as it might be better with languages. \\n\\n3. Did you quantize cache itself? Cache at Q8 should take half the normal size.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4bpra5","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;ol&gt;\\n&lt;li&gt;&lt;p&gt;Try offloading not the cache to ram but the model itself. &lt;/p&gt;&lt;/li&gt;\\n&lt;li&gt;&lt;p&gt;IMO the best at summarisation at 8b would be Qwen 3 8b. You may also try llama3.1-nemotron-1M context. Try also Ministral as it might be better with languages. &lt;/p&gt;&lt;/li&gt;\\n&lt;li&gt;&lt;p&gt;Did you quantize cache itself? Cache at Q8 should take half the normal size.&lt;/p&gt;&lt;/li&gt;\\n&lt;/ol&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5fg2y/howto_summarize_on_16gb_vram_with_64k_cache/n4bpra5/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753098507,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m5fg2y","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}}]'),s=()=>e.jsx(l,{data:a});export{s as default};
