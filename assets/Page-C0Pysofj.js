import{j as e}from"./index-CNyNkRpk.js";import{R as l}from"./RedditPostRenderer-Dza0u9i2.js";import"./index-BUchu_-K.js";const t=JSON.parse(`[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"Hello! I try to launch qwen3 235b using VLLM and stuck on different problems, one of them i got \\n\\n\`AttributeError: '_OpNamespace' '_C' object has no attribute 'gptq_marlin_repack'\`\\n\\n  \\nand no way to fix it. i got this on vllm in docker and vllm builded from source.   \\n\\n\\n    services:\\n      vllm:\\n        pull_policy: always\\n        tty: true\\n        restart: unless-stopped\\n        ports:\\n          - 8000:8000\\n        image: rocm/vllm-dev:nightly\\n        shm_size: '128g'\\n        volumes:\\n         - /mnt/tb_disk/llm:/app/models\\n        devices:\\n          - /dev/kfd:/dev/kfd\\n          - /dev/dri:/dev/dri\\n          - /dev/mem:/dev/mem\\n        environment:\\n          - ROCM_VISIBLE_DEVICES=0,1,2,3,4,5\\n          - CUDA_VISIBLE_DEVICES=0,1,2,3,4,5\\n          - HSA_OVERRIDE_GFX_VERSION=11.0.0\\n          - HIP_VISIBLE_DEVICES=0,1,2,3,4,5\\n          - VLLM_CUSTOM_OPS=all\\n          - VLLM_ATTENTION_BACKEND=FLASH_ATTN\\n          - VLLM_USE_V1=1\\n          - VLLM_SKIP_WARMUP=true\\n        command: sh -c 'vllm serve /app/models/models/experement/Qwen3-235B-A22B-INT4-W4A16 --max_model_len 4000  --gpu-memory-utilization 0.85  -pp 6  --dtype float16'\\n    \\n    volumes: {}\\n\\n  \\nI try to launch with --dtype bfloat16, but now no way to find solution, maybe someone from vllm expert's know how to launch it correctly? \\n\\n  \\nFeel free to ask any questions and take ideas to clear launch , thank you!","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"AMD 6x7900xtx + VLLM + Docker + QWEN3-235B error","link_flair_richtext":[{"e":"text","t":"Question | Help"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1m3wzm9","quarantine":false,"link_flair_text_color":"dark","upvote_ratio":0.71,"author_flair_background_color":null,"subreddit_type":"public","ups":3,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_1epwrhsm","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Question | Help","can_mod_post":false,"score":3,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"content_categories":null,"is_self":true,"mod_note":null,"created":1752933737,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;Hello! I try to launch qwen3 235b using VLLM and stuck on different problems, one of them i got &lt;/p&gt;\\n\\n&lt;p&gt;&lt;code&gt;AttributeError: &amp;#39;_OpNamespace&amp;#39; &amp;#39;_C&amp;#39; object has no attribute &amp;#39;gptq_marlin_repack&amp;#39;&lt;/code&gt;&lt;/p&gt;\\n\\n&lt;p&gt;and no way to fix it. i got this on vllm in docker and vllm builded from source.   &lt;/p&gt;\\n\\n&lt;pre&gt;&lt;code&gt;services:\\n  vllm:\\n    pull_policy: always\\n    tty: true\\n    restart: unless-stopped\\n    ports:\\n      - 8000:8000\\n    image: rocm/vllm-dev:nightly\\n    shm_size: &amp;#39;128g&amp;#39;\\n    volumes:\\n     - /mnt/tb_disk/llm:/app/models\\n    devices:\\n      - /dev/kfd:/dev/kfd\\n      - /dev/dri:/dev/dri\\n      - /dev/mem:/dev/mem\\n    environment:\\n      - ROCM_VISIBLE_DEVICES=0,1,2,3,4,5\\n      - CUDA_VISIBLE_DEVICES=0,1,2,3,4,5\\n      - HSA_OVERRIDE_GFX_VERSION=11.0.0\\n      - HIP_VISIBLE_DEVICES=0,1,2,3,4,5\\n      - VLLM_CUSTOM_OPS=all\\n      - VLLM_ATTENTION_BACKEND=FLASH_ATTN\\n      - VLLM_USE_V1=1\\n      - VLLM_SKIP_WARMUP=true\\n    command: sh -c &amp;#39;vllm serve /app/models/models/experement/Qwen3-235B-A22B-INT4-W4A16 --max_model_len 4000  --gpu-memory-utilization 0.85  -pp 6  --dtype float16&amp;#39;\\n\\nvolumes: {}\\n&lt;/code&gt;&lt;/pre&gt;\\n\\n&lt;p&gt;I try to launch with --dtype bfloat16, but now no way to find solution, maybe someone from vllm expert&amp;#39;s know how to launch it correctly? &lt;/p&gt;\\n\\n&lt;p&gt;Feel free to ask any questions and take ideas to clear launch , thank you!&lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":false,"is_crosspostable":false,"pinned":false,"over_18":false,"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"2c9831e6-bf92-11ed-98e6-d2b8bcc02ae1","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#5a74cc","id":"1m3wzm9","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"djdeniro","discussion_type":null,"num_comments":6,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/","subreddit_subscribers":502030,"created_utc":1752933737,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n42pdkt","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"djdeniro","can_mod_post":false,"send_replies":true,"parent_id":"t1_n424ptn","score":1,"author_fullname":"t2_1epwrhsm","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"some models work with AWQ, but we have now only QuixiAI/Qwen3-235B-A22B-AWQ which alert error with AWQ\\\\_MERLIN","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n42pdkt","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;some models work with AWQ, but we have now only QuixiAI/Qwen3-235B-A22B-AWQ which alert error with AWQ_MERLIN&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m3wzm9","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/n42pdkt/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752966046,"author_flair_text":null,"treatment_tags":[],"created_utc":1752966046,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":3,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n42w1nk","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"djdeniro","can_mod_post":false,"send_replies":true,"parent_id":"t1_n424ptn","score":1,"author_fullname":"t2_1epwrhsm","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"\\\\\`ERROR 07-19 23:38:04 \\\\[multiproc\\\\_executor.py:583\\\\] AttributeError: '\\\\_OpNamespace' '\\\\_C' object has no attribute 'awq\\\\_marlin\\\\_repack'\\\\\` -&lt; and stop\\n\\nbased on  VLLM\\\\_USE\\\\_TRITON\\\\_AWQ=1  VLLM\\\\_USE\\\\_MODELSCOPE=True  vllm serve /mnt/tb\\\\_disk/llm/models/experement/Qwen3-235B-A22B-AWQ/ -pp 6 --dtype half --max\\\\_model\\\\_len 4096 --quantization awq","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n42w1nk","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;\`ERROR 07-19 23:38:04 [multiproc_executor.py:583] AttributeError: &amp;#39;_OpNamespace&amp;#39; &amp;#39;_C&amp;#39; object has no attribute &amp;#39;awq_marlin_repack&amp;#39;\` -&amp;lt; and stop&lt;/p&gt;\\n\\n&lt;p&gt;based on  VLLM_USE_TRITON_AWQ=1  VLLM_USE_MODELSCOPE=True  vllm serve /mnt/tb_disk/llm/models/experement/Qwen3-235B-A22B-AWQ/ -pp 6 --dtype half --max_model_len 4096 --quantization awq&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m3wzm9","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/n42w1nk/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752968406,"author_flair_text":null,"treatment_tags":[],"created_utc":1752968406,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":3,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n424ptn","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"StupidityCanFly","can_mod_post":false,"send_replies":true,"parent_id":"t1_n40w97c","score":1,"author_fullname":"t2_sydekv9b","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Even with the environment variable I suggested? And an AWQ model?","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n424ptn","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Even with the environment variable I suggested? And an AWQ model?&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m3wzm9","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/n424ptn/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752959025,"author_flair_text":null,"treatment_tags":[],"created_utc":1752959025,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n40w97c","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"djdeniro","can_mod_post":false,"created_utc":1752944868,"send_replies":true,"parent_id":"t1_n40cvxz","score":1,"author_fullname":"t2_1epwrhsm","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"When I use AWQ, it shows same error but name of lib awq_merlin","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n40w97c","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;When I use AWQ, it shows same error but name of lib awq_merlin&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m3wzm9","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/n40w97c/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752944868,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n40wiq1","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"djdeniro","can_mod_post":false,"created_utc":1752944946,"send_replies":true,"parent_id":"t1_n40cvxz","score":1,"author_fullname":"t2_1epwrhsm","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"And I not use GPTQ, it's compressed tensors, W4A16, but I understood problem. If I put -tp 4 it not show any error but I have not VRAM :)","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n40wiq1","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;And I not use GPTQ, it&amp;#39;s compressed tensors, W4A16, but I understood problem. If I put -tp 4 it not show any error but I have not VRAM :)&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m3wzm9","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/n40wiq1/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752944946,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n40cvxz","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"StupidityCanFly","can_mod_post":false,"created_utc":1752938833,"send_replies":true,"parent_id":"t3_1m3wzm9","score":3,"author_fullname":"t2_sydekv9b","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"GPTQ uses marlin kernels that don’t run on AMD GPUs, see in the vLLM docs [here](https://docs.vllm.ai/en/latest/features/quantization/supported_hardware.html).\\n\\nI went the AWQ route, and it works as long as you use VLLM_USE_TRITON_AWQ=1. But then triton kernels don’t support some features as well, like SWA.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n40cvxz","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;GPTQ uses marlin kernels that don’t run on AMD GPUs, see in the vLLM docs &lt;a href=\\"https://docs.vllm.ai/en/latest/features/quantization/supported_hardware.html\\"&gt;here&lt;/a&gt;.&lt;/p&gt;\\n\\n&lt;p&gt;I went the AWQ route, and it works as long as you use VLLM_USE_TRITON_AWQ=1. But then triton kernels don’t support some features as well, like SWA.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m3wzm9/amd_6x7900xtx_vllm_docker_qwen3235b_error/n40cvxz/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752938833,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m3wzm9","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":3}}],"before":null}}]`),o=()=>e.jsx(l,{data:t});export{o as default};
