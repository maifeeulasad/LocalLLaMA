import{j as t}from"./index-CWmJdUH_.js";import{R as e}from"./RedditPostRenderer-D2iunoQ9.js";import"./index-BCg9RP6g.js";const l=JSON.parse(`[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"\\\\*I'm mainly using ChatGPT for this so please try to ignore the fact that I don't understand muc.h\\\\* Hi, I've been trying to build my own AI agent on my pc for the past day now. I keep running into the same error. every time I try to send a message, I get \\"BadRequestError: litlellm.BadRequestError: GetLLMProviderExceptionn - list index out of range original model: mistral\\". I'm really stuck and I cant figure out how to fix it and would love some help. Here's some info you might need.I'mm running Mistral on Ollama. I have LiteLLM as a proxy on port 4000, and I'm using OpenHands with Docker on port 3000. This is my yaml file: \\n\\nmodel\\\\_list:\\n\\n  \\\\- model\\\\_name: mistral\\n\\nlitellm\\\\_params:\\n\\nmodel: ollama/mistral\\n\\napi\\\\_base: [http://localhost:11434](http://localhost:11434)\\n\\nlitellm\\\\_provider: ollama\\n\\nmode: chat\\n\\nI start liteLLM with:  \\nlitellm --config C:\\\\\\\\Users\\\\\\\\howdy\\\\\\\\litellm-env\\\\\\\\litellm.config.yaml --port 4000 --detailed\\\\_debug\\n\\nI start openhands with:  \\ndocker run -it --rm \\\\^\\n\\n  \\\\-e SANDBOX\\\\_RUNTIME\\\\_CONTAINER\\\\_IMAGE=docker.all-hands.dev/all-hands-ai/runtime:0.49-nikolaik \\\\^\\n\\n  \\\\-e LOG\\\\_ALL\\\\_EVENTS=true \\\\^\\n\\n  \\\\-v //var/run/docker.sock:/var/run/docker.sock \\\\^\\n\\n  \\\\-v C:\\\\\\\\Users\\\\\\\\howdy\\\\\\\\openhands-workspace:/.openhands \\\\^\\n\\n  \\\\-p 3000:3000 \\\\^\\n\\n  \\\\--add-host host.docker.internal:host-gateway \\\\^\\n\\n  \\\\--name openhands-app \\\\^\\n\\n  [docker.all-hands.dev/all-hands-ai/openhands:0.49](http://docker.all-hands.dev/all-hands-ai/openhands:0.49)\\n\\n\`curl\` [\`http://host.docker.internal:4000/v1/completions\`](http://host.docker.internal:4000/v1/completions) returns \`{\\"detail\\":\\"Method Not Allowed\\"}\` Sometimes, and nothing else happens. I enabled \`--detailed_debug\`, and I do see logs like “Initialized model mistral,” but I don't get an interface, or it fails silently. Here's an explanation of more of my issue from ChatGPT:  \\nWhat I Tried:\\n\\n* Confirmed all ports are correct\\n* Docker can reach \`host.docker.internal:4000\`\\n* I’ve tested curl inside the container to confirm\\n* Sometimes it randomly works, but it breaks again on the next reboot\\n\\n❓What I Need:\\n\\n* Is this the correct \`model_list\` format for Ollama/Mistral via LiteLLM?\\n* Does OpenHands require a specific model name format?\\n* How can I force OpenHands to show **detailed errors** instead of generic \`APIConnectionError\`?\\n\\nI would appreciate it if you could help.","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"Im trying to make my own agent with openhands but I keep running into the same error.","link_flair_richtext":[{"e":"text","t":"Question | Help"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1m5v7if","quarantine":false,"link_flair_text_color":"dark","upvote_ratio":0.5,"author_flair_background_color":null,"subreddit_type":"public","ups":0,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_t0k3f4bz","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Question | Help","can_mod_post":false,"score":0,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"content_categories":null,"is_self":true,"mod_note":null,"created":1753132378,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;*I&amp;#39;m mainly using ChatGPT for this so please try to ignore the fact that I don&amp;#39;t understand muc.h* Hi, I&amp;#39;ve been trying to build my own AI agent on my pc for the past day now. I keep running into the same error. every time I try to send a message, I get &amp;quot;BadRequestError: litlellm.BadRequestError: GetLLMProviderExceptionn - list index out of range original model: mistral&amp;quot;. I&amp;#39;m really stuck and I cant figure out how to fix it and would love some help. Here&amp;#39;s some info you might need.I&amp;#39;mm running Mistral on Ollama. I have LiteLLM as a proxy on port 4000, and I&amp;#39;m using OpenHands with Docker on port 3000. This is my yaml file: &lt;/p&gt;\\n\\n&lt;p&gt;model_list:&lt;/p&gt;\\n\\n&lt;p&gt;- model_name: mistral&lt;/p&gt;\\n\\n&lt;p&gt;litellm_params:&lt;/p&gt;\\n\\n&lt;p&gt;model: ollama/mistral&lt;/p&gt;\\n\\n&lt;p&gt;api_base: &lt;a href=\\"http://localhost:11434\\"&gt;http://localhost:11434&lt;/a&gt;&lt;/p&gt;\\n\\n&lt;p&gt;litellm_provider: ollama&lt;/p&gt;\\n\\n&lt;p&gt;mode: chat&lt;/p&gt;\\n\\n&lt;p&gt;I start liteLLM with:&lt;br/&gt;\\nlitellm --config C:\\\\Users\\\\howdy\\\\litellm-env\\\\litellm.config.yaml --port 4000 --detailed_debug&lt;/p&gt;\\n\\n&lt;p&gt;I start openhands with:&lt;br/&gt;\\ndocker run -it --rm ^&lt;/p&gt;\\n\\n&lt;p&gt;-e SANDBOX_RUNTIME_CONTAINER_IMAGE=docker.all-hands.dev/all-hands-ai/runtime:0.49-nikolaik ^&lt;/p&gt;\\n\\n&lt;p&gt;-e LOG_ALL_EVENTS=true ^&lt;/p&gt;\\n\\n&lt;p&gt;-v //var/run/docker.sock:/var/run/docker.sock ^&lt;/p&gt;\\n\\n&lt;p&gt;-v C:\\\\Users\\\\howdy\\\\openhands-workspace:/.openhands ^&lt;/p&gt;\\n\\n&lt;p&gt;-p 3000:3000 ^&lt;/p&gt;\\n\\n&lt;p&gt;--add-host host.docker.internal:host-gateway ^&lt;/p&gt;\\n\\n&lt;p&gt;--name openhands-app ^&lt;/p&gt;\\n\\n&lt;p&gt;&lt;a href=\\"http://docker.all-hands.dev/all-hands-ai/openhands:0.49\\"&gt;docker.all-hands.dev/all-hands-ai/openhands:0.49&lt;/a&gt;&lt;/p&gt;\\n\\n&lt;p&gt;&lt;code&gt;curl&lt;/code&gt; &lt;a href=\\"http://host.docker.internal:4000/v1/completions\\"&gt;&lt;code&gt;http://host.docker.internal:4000/v1/completions&lt;/code&gt;&lt;/a&gt; returns &lt;code&gt;{&amp;quot;detail&amp;quot;:&amp;quot;Method Not Allowed&amp;quot;}&lt;/code&gt; Sometimes, and nothing else happens. I enabled &lt;code&gt;--detailed_debug&lt;/code&gt;, and I do see logs like “Initialized model mistral,” but I don&amp;#39;t get an interface, or it fails silently. Here&amp;#39;s an explanation of more of my issue from ChatGPT:&lt;br/&gt;\\nWhat I Tried:&lt;/p&gt;\\n\\n&lt;ul&gt;\\n&lt;li&gt;Confirmed all ports are correct&lt;/li&gt;\\n&lt;li&gt;Docker can reach &lt;code&gt;host.docker.internal:4000&lt;/code&gt;&lt;/li&gt;\\n&lt;li&gt;I’ve tested curl inside the container to confirm&lt;/li&gt;\\n&lt;li&gt;Sometimes it randomly works, but it breaks again on the next reboot&lt;/li&gt;\\n&lt;/ul&gt;\\n\\n&lt;p&gt;❓What I Need:&lt;/p&gt;\\n\\n&lt;ul&gt;\\n&lt;li&gt;Is this the correct &lt;code&gt;model_list&lt;/code&gt; format for Ollama/Mistral via LiteLLM?&lt;/li&gt;\\n&lt;li&gt;Does OpenHands require a specific model name format?&lt;/li&gt;\\n&lt;li&gt;How can I force OpenHands to show &lt;strong&gt;detailed errors&lt;/strong&gt; instead of generic &lt;code&gt;APIConnectionError&lt;/code&gt;?&lt;/li&gt;\\n&lt;/ul&gt;\\n\\n&lt;p&gt;I would appreciate it if you could help.&lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":true,"is_crosspostable":false,"pinned":false,"over_18":false,"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"2c9831e6-bf92-11ed-98e6-d2b8bcc02ae1","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#5a74cc","id":"1m5v7if","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"HowdyCapybara","discussion_type":null,"num_comments":2,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1m5v7if/im_trying_to_make_my_own_agent_with_openhands_but/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1m5v7if/im_trying_to_make_my_own_agent_with_openhands_but/","subreddit_subscribers":502981,"created_utc":1753132378,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4fkqer","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"HowdyCapybara","can_mod_post":false,"created_utc":1753140513,"send_replies":true,"parent_id":"t1_n4fgwey","score":2,"author_fullname":"t2_t0k3f4bz","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Ok, I added mode: chat into my litellm\\\\_params. This is my full file:  \\nmodel\\\\_list:\\n\\n  \\\\- model\\\\_name: mistral\\n\\nlitellm\\\\_params:\\n\\nmodel: mistral\\n\\napi\\\\_base: [http://localhost:11434](http://localhost:11434)\\n\\ncustom\\\\_llm\\\\_provider: ollama\\n\\nmode: chat  \\nI also made sure to double check that just Mistral was being used everywhere, but I was getting this debug line whenever I launched litellm, and it says ollama/mistral. I'm wondering if it means anything that I have to change:   \\nDEBUG:LiteLLM:added/updated model=ollama/mistral in litellm.model\\\\_cost: ollama/mistral","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4fkqer","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Ok, I added mode: chat into my litellm_params. This is my full file:&lt;br/&gt;\\nmodel_list:&lt;/p&gt;\\n\\n&lt;p&gt;- model_name: mistral&lt;/p&gt;\\n\\n&lt;p&gt;litellm_params:&lt;/p&gt;\\n\\n&lt;p&gt;model: mistral&lt;/p&gt;\\n\\n&lt;p&gt;api_base: &lt;a href=\\"http://localhost:11434\\"&gt;http://localhost:11434&lt;/a&gt;&lt;/p&gt;\\n\\n&lt;p&gt;custom_llm_provider: ollama&lt;/p&gt;\\n\\n&lt;p&gt;mode: chat&lt;br/&gt;\\nI also made sure to double check that just Mistral was being used everywhere, but I was getting this debug line whenever I launched litellm, and it says ollama/mistral. I&amp;#39;m wondering if it means anything that I have to change:&lt;br/&gt;\\nDEBUG:LiteLLM:added/updated model=ollama/mistral in litellm.model_cost: ollama/mistral&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m5v7if","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5v7if/im_trying_to_make_my_own_agent_with_openhands_but/n4fkqer/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753140513,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}}],"before":null}},"user_reports":[],"saved":false,"id":"n4fgwey","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Weary-Wing-6806","can_mod_post":false,"created_utc":1753139259,"send_replies":true,"parent_id":"t3_1m5v7if","score":2,"author_fullname":"t2_1t2xvghrcr","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Hm. Sounds like OpenHands is expecting an OpenAI-style '/v1/chat/completions' endpoint, but LiteLLM is serving '/v1/completions'. Add 'mode: chat' to your 'litellm\\\\_params' block and make sure the endpoint matches what OpenHands expects. Could also be a mismatch in how you named the model? Try using \\"mistral\\" consistently across everything.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4fgwey","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Hm. Sounds like OpenHands is expecting an OpenAI-style &amp;#39;/v1/chat/completions&amp;#39; endpoint, but LiteLLM is serving &amp;#39;/v1/completions&amp;#39;. Add &amp;#39;mode: chat&amp;#39; to your &amp;#39;litellm_params&amp;#39; block and make sure the endpoint matches what OpenHands expects. Could also be a mismatch in how you named the model? Try using &amp;quot;mistral&amp;quot; consistently across everything.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m5v7if/im_trying_to_make_my_own_agent_with_openhands_but/n4fgwey/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753139259,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m5v7if","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}}],"before":null}}]`),r=()=>t.jsx(e,{data:l});export{r as default};
