import{j as e}from"./index-CWmJdUH_.js";import{R as l}from"./RedditPostRenderer-D2iunoQ9.js";import"./index-BCg9RP6g.js";const a=JSON.parse('[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"Soooâ€¦ anyone have any ideas for preventing file corruption or saving errors?\\nBecause if I save my model weights after training the whole model on a rented server, and the file gets corrupted, that would be a huge loss of time and money, right? ","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"Anyone have ideas for preventing file corruption and saving errors when i save model weights after training?.After training the whole model on a rented gpu server and realising that the model weight file got corrupted hurtsðŸ™‚","link_flair_richtext":[{"e":"text","t":"Question | Help"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1lvf448","quarantine":false,"link_flair_text_color":"dark","upvote_ratio":0.75,"author_flair_background_color":null,"subreddit_type":"public","ups":2,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_lpanmabv","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Question | Help","can_mod_post":false,"score":2,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"content_categories":null,"is_self":true,"mod_note":null,"created":1752056153,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;Soooâ€¦ anyone have any ideas for preventing file corruption or saving errors?\\nBecause if I save my model weights after training the whole model on a rented server, and the file gets corrupted, that would be a huge loss of time and money, right? &lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":false,"is_crosspostable":false,"pinned":false,"over_18":false,"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"2c9831e6-bf92-11ed-98e6-d2b8bcc02ae1","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#5a74cc","id":"1lvf448","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"Remarkable-Ad3290","discussion_type":null,"num_comments":5,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1lvf448/anyone_have_ideas_for_preventing_file_corruption/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1lvf448/anyone_have_ideas_for_preventing_file_corruption/","subreddit_subscribers":497025,"created_utc":1752056153,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n25fe83","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"EmotionalFan5429","can_mod_post":false,"created_utc":1752057052,"send_replies":true,"parent_id":"t3_1lvf448","score":3,"author_fullname":"t2_sdh30saq","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Save the file to 3 copies. Then make a diff.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n25fe83","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Save the file to 3 copies. Then make a diff.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lvf448/anyone_have_ideas_for_preventing_file_corruption/n25fe83/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752057052,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1lvf448","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":3}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n25xuwj","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Remarkable-Ad3290","can_mod_post":false,"send_replies":true,"parent_id":"t1_n25xmkc","score":1,"author_fullname":"t2_lpanmabv","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"ThankyouðŸ‘ðŸ»","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n25xuwj","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;ThankyouðŸ‘ðŸ»&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lvf448","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lvf448/anyone_have_ideas_for_preventing_file_corruption/n25xuwj/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752064498,"author_flair_text":null,"treatment_tags":[],"created_utc":1752064498,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":3,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n25xmkc","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"thatphotoguy89","can_mod_post":false,"send_replies":true,"parent_id":"t1_n25xfjt","score":1,"author_fullname":"t2_nmj51","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Sorry about that. Try this? https://huggingface.co/docs/accelerate/en/usage_guides/checkpoint Checkpointing","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n25xmkc","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Sorry about that. Try this? &lt;a href=\\"https://huggingface.co/docs/accelerate/en/usage_guides/checkpoint\\"&gt;https://huggingface.co/docs/accelerate/en/usage_guides/checkpoint&lt;/a&gt; Checkpointing&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lvf448","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lvf448/anyone_have_ideas_for_preventing_file_corruption/n25xmkc/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752064415,"author_flair_text":null,"treatment_tags":[],"created_utc":1752064415,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n25xfjt","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Remarkable-Ad3290","can_mod_post":false,"created_utc":1752064346,"send_replies":true,"parent_id":"t1_n25i30p","score":1,"author_fullname":"t2_lpanmabv","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Link is not working","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n25xfjt","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Link is not working&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lvf448","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lvf448/anyone_have_ideas_for_preventing_file_corruption/n25xfjt/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752064346,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n25i30p","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":false,"author":"thatphotoguy89","can_mod_post":false,"created_utc":1752058286,"send_replies":true,"parent_id":"t3_1lvf448","score":5,"author_fullname":"t2_nmj51","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Use checkpoints. Depending on what framework, you will have to update your code accordingly. For accelerate, hereâ€™s a link [Accelerate Checkpointing](https://huggingface.co/docs/accelerate/en/usage_guides/checkpointCheckpointing)\\nOnce you have the checkpoints, you can reload from the last one even in case your final model weights are corrupted. Then train for a few more epochs and you should get your final model. Be careful about what saving strategy you use for the checkpoints and the final model as they can be quite large. You can also offload the checkpoints from your GPU machine to a cheaper machine if you need to.","edited":1752058513,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n25i30p","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Use checkpoints. Depending on what framework, you will have to update your code accordingly. For accelerate, hereâ€™s a link &lt;a href=\\"https://huggingface.co/docs/accelerate/en/usage_guides/checkpointCheckpointing\\"&gt;Accelerate Checkpointing&lt;/a&gt;\\nOnce you have the checkpoints, you can reload from the last one even in case your final model weights are corrupted. Then train for a few more epochs and you should get your final model. Be careful about what saving strategy you use for the checkpoints and the final model as they can be quite large. You can also offload the checkpoints from your GPU machine to a cheaper machine if you need to.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lvf448/anyone_have_ideas_for_preventing_file_corruption/n25i30p/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1752058286,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1lvf448","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":5}}],"before":null}}]'),n=()=>e.jsx(l,{data:a});export{n as default};
