import{j as e}from"./index-DLSqWzaI.js";import{R as t}from"./RedditPostRenderer-CysRo2D_.js";import"./index-COXiL3Lo.js";const a=JSON.parse(`[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"I have Threadripper 2970WX uses a PCI-Express Gen 3\\n\\n256GB DDR4 + 5090\\n\\nI ran Kimi-K2-Instruct-UD-Q2\\\\_K\\\\_XL (354.9GB) and got 2t/sec\\n\\nI have 4 SSD drives. I made symbolic links. I put 2 files on each drive and got 2.3t/sec\\n\\ncheers! =)","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"Pseudo RAID and Kimi-K2","link_flair_richtext":[{"e":"text","t":"Tutorial | Guide"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1m57iep","quarantine":false,"link_flair_text_color":"light","upvote_ratio":0.87,"author_flair_background_color":null,"subreddit_type":"public","ups":6,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_1airv0szt9","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Tutorial | Guide","can_mod_post":false,"score":6,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"content_categories":null,"is_self":true,"mod_note":null,"created":1753065913,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;I have Threadripper 2970WX uses a PCI-Express Gen 3&lt;/p&gt;\\n\\n&lt;p&gt;256GB DDR4 + 5090&lt;/p&gt;\\n\\n&lt;p&gt;I ran Kimi-K2-Instruct-UD-Q2_K_XL (354.9GB) and got 2t/sec&lt;/p&gt;\\n\\n&lt;p&gt;I have 4 SSD drives. I made symbolic links. I put 2 files on each drive and got 2.3t/sec&lt;/p&gt;\\n\\n&lt;p&gt;cheers! =)&lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":false,"is_crosspostable":false,"pinned":false,"over_18":false,"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"449b05a6-bf8e-11ed-b4bd-66961e47bd50","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#0079d3","id":"1m57iep","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"Defiant_Diet9085","discussion_type":null,"num_comments":10,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/","subreddit_subscribers":502516,"created_utc":1753065913,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4aawu5","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Defiant_Diet9085","can_mod_post":false,"send_replies":true,"parent_id":"t1_n4a9gwy","score":2,"author_fullname":"t2_1airv0szt9","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"le@big:/media/le/7TB/ai/models/Kimi-K2/par$ dfm\\n\\nFilesystem      Size  Used Avail Use% Mounted on\\n\\n/dev/nvme0n1p1  1.8T  753G  987G  44% /home\\n\\n/dev/nvme1n1p1  7.0T  5.2T  1.5T  79% /media/le/7TB\\n\\n/dev/nvme2n1p1  3.6T  217G  3.2T   7% /media/le/4TB\\n\\n/dev/nvme3n1p1  511M   36M  476M   7% /boot/efi\\n\\n/dev/nvme3n1p2  457G  260G  174G  60% /\\n\\n/dev/sda1       3.6T  2.1T  1.4T  61% /media/le/3.8TB","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n4aawu5","is_submitter":true,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;le@big:/media/le/7TB/ai/models/Kimi-K2/par$ dfm&lt;/p&gt;\\n\\n&lt;p&gt;Filesystem      Size  Used Avail Use% Mounted on&lt;/p&gt;\\n\\n&lt;p&gt;/dev/nvme0n1p1  1.8T  753G  987G  44% /home&lt;/p&gt;\\n\\n&lt;p&gt;/dev/nvme1n1p1  7.0T  5.2T  1.5T  79% /media/le/7TB&lt;/p&gt;\\n\\n&lt;p&gt;/dev/nvme2n1p1  3.6T  217G  3.2T   7% /media/le/4TB&lt;/p&gt;\\n\\n&lt;p&gt;/dev/nvme3n1p1  511M   36M  476M   7% /boot/efi&lt;/p&gt;\\n\\n&lt;p&gt;/dev/nvme3n1p2  457G  260G  174G  60% /&lt;/p&gt;\\n\\n&lt;p&gt;/dev/sda1       3.6T  2.1T  1.4T  61% /media/le/3.8TB&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m57iep","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4aawu5/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753071712,"author_flair_text":null,"treatment_tags":[],"created_utc":1753071712,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4aay7l","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"eloquentemu","can_mod_post":false,"send_replies":true,"parent_id":"t1_n4a9gwy","score":2,"author_fullname":"t2_lpdsy","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"So reading between the lines, I'm guessing that the \`/models/...000??-of-00008.gguf\` were all symbolic links that each pointed to a copy of the split file on a random drive?  Neat!  I don't split mine so didn't consider that option :D.\\n\\nI'd be curious if my method would net better results... It's hard to say, TBH, but I would suspect that your approach might suffer from the fact that the chunk files are pretty coarse so it might happen that all the I/O happens on one split/drive, then the next, etc serially.  Definitely can't fault the ease of setting this up regardless.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n4aay7l","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;So reading between the lines, I&amp;#39;m guessing that the &lt;code&gt;/models/...000??-of-00008.gguf&lt;/code&gt; were all symbolic links that each pointed to a copy of the split file on a random drive?  Neat!  I don&amp;#39;t split mine so didn&amp;#39;t consider that option :D.&lt;/p&gt;\\n\\n&lt;p&gt;I&amp;#39;d be curious if my method would net better results... It&amp;#39;s hard to say, TBH, but I would suspect that your approach might suffer from the fact that the chunk files are pretty coarse so it might happen that all the I/O happens on one split/drive, then the next, etc serially.  Definitely can&amp;#39;t fault the ease of setting this up regardless.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m57iep","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4aay7l/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753071729,"author_flair_text":null,"treatment_tags":[],"created_utc":1753071729,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}}],"before":null}},"user_reports":[],"saved":false,"id":"n4a9gwy","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Defiant_Diet9085","can_mod_post":false,"created_utc":1753071067,"send_replies":true,"parent_id":"t1_n4a7zx3","score":1,"author_fullname":"t2_1airv0szt9","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"alias dockerK2-6='\\\\\\\\\\n\\ndocker run \\\\\\\\\\n\\n\\\\-p 8085:8085 \\\\\\\\\\n\\n\\\\-v /media/le/7TB/ai/models/Kimi-K2/par:/models \\\\\\\\\\n\\n\\\\-v /media/le/7TB/ai/models/Kimi-K2/UD-Q2:/models2 \\\\\\\\\\n\\n\\\\-v /media/le/4TB/models/Kimi-K2/UD-Q2:/models3 \\\\\\\\\\n\\n\\\\-v /home/le/models/Kimi-K2/UD-Q2:/models4 \\\\\\\\\\n\\n\\\\-v /models/Kimi-K2/UD-Q2:/models5 \\\\\\\\\\n\\n\\\\--gpus \\"device=1\\" my\\\\_cuda12.9:250721 \\\\\\\\\\n\\n\\\\--main-gpu 1 \\\\\\\\\\n\\n\\\\--host [0.0.0.0](http://0.0.0.0) \\\\\\\\\\n\\n\\\\--port 8085 \\\\\\\\\\n\\n\\\\--threads 22 \\\\\\\\\\n\\n\\\\--n-gpu-layers 99 \\\\\\\\\\n\\n\\\\--override-tensor exps=CPU \\\\\\\\\\n\\n\\\\--ctx-size 105000 \\\\\\\\\\n\\n\\\\--ubatch-size 7168 \\\\\\\\\\n\\n\\\\--batch-size 7168 \\\\\\\\\\n\\n\\\\-fa \\\\\\\\\\n\\n\\\\-m /models/Kimi-K2-Instruct-UD-Q2\\\\_K\\\\_XL-00001-of-00008.gguf'\\n\\nhttps://preview.redd.it/8devghkbk5ef1.png?width=1195&amp;format=png&amp;auto=webp&amp;s=e031c1d3982c842764adfb059256886cc98e5d3a","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4a9gwy","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;alias dockerK2-6=&amp;#39;\\\\&lt;/p&gt;\\n\\n&lt;p&gt;docker run \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-p 8085:8085 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-v /media/le/7TB/ai/models/Kimi-K2/par:/models \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-v /media/le/7TB/ai/models/Kimi-K2/UD-Q2:/models2 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-v /media/le/4TB/models/Kimi-K2/UD-Q2:/models3 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-v /home/le/models/Kimi-K2/UD-Q2:/models4 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-v /models/Kimi-K2/UD-Q2:/models5 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--gpus &amp;quot;device=1&amp;quot; my_cuda12.9:250721 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--main-gpu 1 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--host &lt;a href=\\"http://0.0.0.0\\"&gt;0.0.0.0&lt;/a&gt; \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--port 8085 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--threads 22 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--n-gpu-layers 99 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--override-tensor exps=CPU \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--ctx-size 105000 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--ubatch-size 7168 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;--batch-size 7168 \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-fa \\\\&lt;/p&gt;\\n\\n&lt;p&gt;-m /models/Kimi-K2-Instruct-UD-Q2_K_XL-00001-of-00008.gguf&amp;#39;&lt;/p&gt;\\n\\n&lt;p&gt;&lt;a href=\\"https://preview.redd.it/8devghkbk5ef1.png?width=1195&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=e031c1d3982c842764adfb059256886cc98e5d3a\\"&gt;https://preview.redd.it/8devghkbk5ef1.png?width=1195&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=e031c1d3982c842764adfb059256886cc98e5d3a&lt;/a&gt;&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m57iep","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4a9gwy/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753071067,"media_metadata":{"8devghkbk5ef1":{"status":"valid","e":"Image","m":"image/png","p":[{"y":16,"x":108,"u":"https://preview.redd.it/8devghkbk5ef1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=3da22680b4cca0ea0ac0b3a81ca320409bdbbc3e"},{"y":33,"x":216,"u":"https://preview.redd.it/8devghkbk5ef1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=0b9add9cd620186bef138fccbcb4a90a9225c3da"},{"y":49,"x":320,"u":"https://preview.redd.it/8devghkbk5ef1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=a49d77aa111ff98149a13e50178088bce24c6340"},{"y":98,"x":640,"u":"https://preview.redd.it/8devghkbk5ef1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=5f37e4237391e863a2c6d3e1006b9f8c400575f4"},{"y":147,"x":960,"u":"https://preview.redd.it/8devghkbk5ef1.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=36feab44626da73ab3944b34f06e18735472ae4d"},{"y":166,"x":1080,"u":"https://preview.redd.it/8devghkbk5ef1.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=769930468a27239afaf8802ad80cb1928bfcb695"}],"s":{"y":184,"x":1195,"u":"https://preview.redd.it/8devghkbk5ef1.png?width=1195&amp;format=png&amp;auto=webp&amp;s=e031c1d3982c842764adfb059256886cc98e5d3a"},"id":"8devghkbk5ef1"}},"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n4a7zx3","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"eloquentemu","can_mod_post":false,"created_utc":1753070419,"send_replies":true,"parent_id":"t3_1m57iep","score":3,"author_fullname":"t2_lpdsy","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"I'm confused as to what you did.  Don't you need to give \`llama.cpp\` (or whatever) a singular path anyways?  What does it mean to have multiple copies and symbolic links?  The links would only ever resolve to one exact file too...\\n\\nSince it sounds like you are on linux, if you want _maximum jank_ I think the optimal(?) approach would be to allocate large files on your disks.  Then attach those files to loopback devices.  Then set up a RAID0 with mdadm using those loopback devices.  Make a filesystem on the \`/dev/md0\` and copy your model to it.  (You might even be be able to forgo the filesystem and copy the model directly to \`/dev/md0\` but \`llama.cpp\` might choke trying to read a \`/dev/md0\` that's bigger than the model.)\\n\\nThat said, unfortunately \`llama.cpp\`'s use of mmap basically makes storage I/O performance somewhat meaningless [as I happened to just be talking about](https://old.reddit.com/r/LocalLLaMA/comments/1m4u7j6/whats_the_most_crackhead_garbage_local_llm_setup/n49nxeh/) since you're more limited by page faults and latency than bandwidth.  Still, that might genuinely help model load times and perhaps even inference if you're talking SATA drives rather than NVMe.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4a7zx3","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;I&amp;#39;m confused as to what you did.  Don&amp;#39;t you need to give &lt;code&gt;llama.cpp&lt;/code&gt; (or whatever) a singular path anyways?  What does it mean to have multiple copies and symbolic links?  The links would only ever resolve to one exact file too...&lt;/p&gt;\\n\\n&lt;p&gt;Since it sounds like you are on linux, if you want &lt;em&gt;maximum jank&lt;/em&gt; I think the optimal(?) approach would be to allocate large files on your disks.  Then attach those files to loopback devices.  Then set up a RAID0 with mdadm using those loopback devices.  Make a filesystem on the &lt;code&gt;/dev/md0&lt;/code&gt; and copy your model to it.  (You might even be be able to forgo the filesystem and copy the model directly to &lt;code&gt;/dev/md0&lt;/code&gt; but &lt;code&gt;llama.cpp&lt;/code&gt; might choke trying to read a &lt;code&gt;/dev/md0&lt;/code&gt; that&amp;#39;s bigger than the model.)&lt;/p&gt;\\n\\n&lt;p&gt;That said, unfortunately &lt;code&gt;llama.cpp&lt;/code&gt;&amp;#39;s use of mmap basically makes storage I/O performance somewhat meaningless &lt;a href=\\"https://old.reddit.com/r/LocalLLaMA/comments/1m4u7j6/whats_the_most_crackhead_garbage_local_llm_setup/n49nxeh/\\"&gt;as I happened to just be talking about&lt;/a&gt; since you&amp;#39;re more limited by page faults and latency than bandwidth.  Still, that might genuinely help model load times and perhaps even inference if you&amp;#39;re talking SATA drives rather than NVMe.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4a7zx3/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753070419,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m57iep","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":3}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4bz65c","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"NickNau","can_mod_post":false,"created_utc":1753102115,"send_replies":true,"parent_id":"t1_n4a6xjy","score":2,"author_fullname":"t2_5ca663s5","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"I tried 4x software raid on pcie bifurcation board but did not see any real improvement. I instinctively feel that there is a way to benefit from raid (or just multiple drives) but there need to be specific changes in llama.cpp to utilize drives in such manner. Sadly I dont have time to do it and messy llama.cpp code is not helping.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4bz65c","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;I tried 4x software raid on pcie bifurcation board but did not see any real improvement. I instinctively feel that there is a way to benefit from raid (or just multiple drives) but there need to be specific changes in llama.cpp to utilize drives in such manner. Sadly I dont have time to do it and messy llama.cpp code is not helping.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":true,"can_gild":false,"link_id":"t3_1m57iep","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4bz65c/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753102115,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}}],"before":null}},"user_reports":[],"saved":false,"id":"n4a6xjy","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"bjodah","can_mod_post":false,"created_utc":1753069964,"send_replies":true,"parent_id":"t3_1m57iep","score":2,"author_fullname":"t2_atvy2","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"And how does it compare with having all weights on one drive? When I did the same experiment (but with mavrick, and across 2 nvme drives) I saw only a small speed increase. I figured proper raid (either fs level or mdraid) was needed, but I wasn't keen on reformatting the drives...","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4a6xjy","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;And how does it compare with having all weights on one drive? When I did the same experiment (but with mavrick, and across 2 nvme drives) I saw only a small speed increase. I figured proper raid (either fs level or mdraid) was needed, but I wasn&amp;#39;t keen on reformatting the drives...&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4a6xjy/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753069964,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m57iep","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4b7f9s","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"johnerp","can_mod_post":false,"send_replies":true,"parent_id":"t1_n4a03bt","score":1,"author_fullname":"t2_100h8g","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"I assumed it couldn’t stream and therefore if doesn’t fit in ram the OS is swapping, therefore put your swap file on a high performance disk config, striped nvme likely the best.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n4b7f9s","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;I assumed it couldn’t stream and therefore if doesn’t fit in ram the OS is swapping, therefore put your swap file on a high performance disk config, striped nvme likely the best.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m57iep","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4b7f9s/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753089271,"author_flair_text":null,"treatment_tags":[],"created_utc":1753089271,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n4a03bt","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":false,"author":"Defiant_Diet9085","can_mod_post":false,"created_utc":1753067134,"send_replies":true,"parent_id":"t1_n49zbdz","score":4,"author_fullname":"t2_1airv0szt9","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"354.9GB &gt; 256GB DDR4 + 5090","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4a03bt","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;354.9GB &amp;gt; 256GB DDR4 + 5090&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1m57iep","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4a03bt/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753067134,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":4}}],"before":null}},"user_reports":[],"saved":false,"id":"n49zbdz","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"ICanSeeYou7867","can_mod_post":false,"created_utc":1753066826,"send_replies":true,"parent_id":"t3_1m57iep","score":0,"author_fullname":"t2_sqvpr","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Once the model is loaded into vram and system ram,  it shouldn't make a difference.  \\n\\nI guess maybe if there's some sure of virtual paging going on?  But I feel like +-0.3 tokens/ sec is within the normal ranges,  especially if you are in warmup territory?","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n49zbdz","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Once the model is loaded into vram and system ram,  it shouldn&amp;#39;t make a difference.  &lt;/p&gt;\\n\\n&lt;p&gt;I guess maybe if there&amp;#39;s some sure of virtual paging going on?  But I feel like +-0.3 tokens/ sec is within the normal ranges,  especially if you are in warmup territory?&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n49zbdz/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753066826,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m57iep","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":0}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n4am7zx","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Entubulated","can_mod_post":false,"created_utc":1753077252,"send_replies":true,"parent_id":"t3_1m57iep","score":1,"author_fullname":"t2_1opxde6hyq","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Would probably do better repartitioning and making a proper mdadm raid0 setup. Assuming same model (or at least having specs in the same ballpark) for each drive and proper configuration, throughput should be better than you're seeing there.\\n\\nMay not need to devote all your drive space for this, just a (same sized) smaller partition from each drive that in total is enough for the models you want faster access for.\\n\\nIf you have proper hardware support, it could be worth testing that vs. mdadm, though if you're on a consumer level hardware mainboard that claims hardware raid, it may be software behind the scenes (usually requiring Windows drivers to do the lifting) so you'd default back to mdadm software raid anyway.\\n\\nEdit: See you've posted some info on system specs ... yeah, you're probably gonna have uneven performance across those device and software raid may be a poor match for your use case.  If you do want to bother, configuration testing could be a rabbit hole.","edited":1753077622,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n4am7zx","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Would probably do better repartitioning and making a proper mdadm raid0 setup. Assuming same model (or at least having specs in the same ballpark) for each drive and proper configuration, throughput should be better than you&amp;#39;re seeing there.&lt;/p&gt;\\n\\n&lt;p&gt;May not need to devote all your drive space for this, just a (same sized) smaller partition from each drive that in total is enough for the models you want faster access for.&lt;/p&gt;\\n\\n&lt;p&gt;If you have proper hardware support, it could be worth testing that vs. mdadm, though if you&amp;#39;re on a consumer level hardware mainboard that claims hardware raid, it may be software behind the scenes (usually requiring Windows drivers to do the lifting) so you&amp;#39;d default back to mdadm software raid anyway.&lt;/p&gt;\\n\\n&lt;p&gt;Edit: See you&amp;#39;ve posted some info on system specs ... yeah, you&amp;#39;re probably gonna have uneven performance across those device and software raid may be a poor match for your use case.  If you do want to bother, configuration testing could be a rabbit hole.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1m57iep/pseudo_raid_and_kimik2/n4am7zx/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1753077252,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1m57iep","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}}]`),o=()=>e.jsx(t,{data:a});export{o as default};
