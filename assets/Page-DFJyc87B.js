import{j as e}from"./index-B8Dr9DfQ.js";import{R as t}from"./RedditPostRenderer-BvcEF1oP.js";import"./index-BohwUeOq.js";const l=JSON.parse(`[{"kind":"Listing","data":{"after":null,"dist":1,"modhash":"","geo_filter":"","children":[{"kind":"t3","data":{"approved_at_utc":null,"subreddit":"LocalLLaMA","selftext":"I wanted to have a short discussion about the M60 in comparison to the M40.\\n\\nThe M40 is the go-to recommendation for desperately low budget rigs (particularly when someone brings up the K80, someone will inevitably mention that the M40 is better).\\n\\nAll the while, the M60 does not get mentioned, and if it does get mentioned, it is little more than an off-hand comment saying that it is unusable due to it being 8x2GB spread across two GPUs.\\n\\nMy question is, does that really matter? Most LLM tools today (think kobold or ollamma) support multi-GPU inference.\\n\\nWith the M60 being the same price (or some times less) while offering theoretically almost twice the performance, it seems like a good choice. Even if most of that extra performance gets lost in PCIE transfers or whatever, it still seems like good value.\\n\\nAm I wrong in considering the M60 as a choice? With 16GB I could probably finally run some actually half-decent models at okay speeds, right? I'm currently seeing one for about \\\\~$100 which is about $20 less than what I am seeing M40s going for, while offering a tiny bit (but very much welcome) more ram and compute.","user_reports":[],"saved":false,"mod_reason_title":null,"gilded":0,"clicked":false,"title":"Nvidia M40 vs M60 for LLM inference?","link_flair_richtext":[{"e":"text","t":"Discussion"}],"subreddit_name_prefixed":"r/LocalLLaMA","hidden":false,"pwls":6,"link_flair_css_class":"","downs":0,"thumbnail_height":null,"top_awarded_type":null,"hide_score":false,"name":"t3_1lmbt6g","quarantine":false,"link_flair_text_color":"light","upvote_ratio":0.4,"author_flair_background_color":null,"subreddit_type":"public","ups":0,"total_awards_received":0,"media_embed":{},"thumbnail_width":null,"author_flair_template_id":null,"is_original_content":false,"author_fullname":"t2_61s8b5gv","secure_media":null,"is_reddit_media_domain":false,"is_meta":false,"category":null,"secure_media_embed":{},"link_flair_text":"Discussion","can_mod_post":false,"score":0,"approved_by":null,"is_created_from_ads_ui":false,"author_premium":false,"thumbnail":"self","edited":false,"author_flair_css_class":null,"author_flair_richtext":[],"gildings":{},"content_categories":null,"is_self":true,"mod_note":null,"created":1751077336,"link_flair_type":"richtext","wls":6,"removed_by_category":null,"banned_by":null,"author_flair_type":"text","domain":"self.LocalLLaMA","allow_live_comments":false,"selftext_html":"&lt;!-- SC_OFF --&gt;&lt;div class=\\"md\\"&gt;&lt;p&gt;I wanted to have a short discussion about the M60 in comparison to the M40.&lt;/p&gt;\\n\\n&lt;p&gt;The M40 is the go-to recommendation for desperately low budget rigs (particularly when someone brings up the K80, someone will inevitably mention that the M40 is better).&lt;/p&gt;\\n\\n&lt;p&gt;All the while, the M60 does not get mentioned, and if it does get mentioned, it is little more than an off-hand comment saying that it is unusable due to it being 8x2GB spread across two GPUs.&lt;/p&gt;\\n\\n&lt;p&gt;My question is, does that really matter? Most LLM tools today (think kobold or ollamma) support multi-GPU inference.&lt;/p&gt;\\n\\n&lt;p&gt;With the M60 being the same price (or some times less) while offering theoretically almost twice the performance, it seems like a good choice. Even if most of that extra performance gets lost in PCIE transfers or whatever, it still seems like good value.&lt;/p&gt;\\n\\n&lt;p&gt;Am I wrong in considering the M60 as a choice? With 16GB I could probably finally run some actually half-decent models at okay speeds, right? I&amp;#39;m currently seeing one for about ~$100 which is about $20 less than what I am seeing M40s going for, while offering a tiny bit (but very much welcome) more ram and compute.&lt;/p&gt;\\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","likes":null,"suggested_sort":null,"banned_at_utc":null,"view_count":null,"archived":false,"no_follow":true,"is_crosspostable":false,"pinned":false,"over_18":false,"all_awardings":[],"awarders":[],"media_only":false,"link_flair_template_id":"5f921ea4-c7bc-11ed-9c23-3a00622979b4","can_gild":false,"spoiler":false,"locked":false,"author_flair_text":null,"treatment_tags":[],"visited":false,"removed_by":null,"num_reports":null,"distinguished":null,"subreddit_id":"t5_81eyvm","author_is_blocked":false,"mod_reason_by":null,"removal_reason":null,"link_flair_background_color":"#646d73","id":"1lmbt6g","is_robot_indexable":true,"num_duplicates":0,"report_reasons":null,"author":"HugoCortell","discussion_type":null,"num_comments":16,"send_replies":true,"media":null,"contest_mode":false,"author_patreon_flair":false,"author_flair_text_color":null,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/","stickied":false,"url":"https://www.reddit.com/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/","subreddit_subscribers":492627,"created_utc":1751077336,"num_crossposts":0,"mod_reports":[],"is_video":false}}],"before":null}},{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n06ilim","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"DorphinPack","can_mod_post":false,"send_replies":true,"parent_id":"t1_n06fg42","score":2,"author_fullname":"t2_zebuyjw9s","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"The intel dual GPU PCB uses PCIe bifurcation to split the lanes it’s given so it does actually rely on the bus.\\n\\nNVLink creates a direct bridge and I think one of the cases where it does help with inference is when the bus can’t keep up at all so might be worth considering","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n06ilim","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;The intel dual GPU PCB uses PCIe bifurcation to split the lanes it’s given so it does actually rely on the bus.&lt;/p&gt;\\n\\n&lt;p&gt;NVLink creates a direct bridge and I think one of the cases where it does help with inference is when the bus can’t keep up at all so might be worth considering&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n06ilim/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751079766,"author_flair_text":null,"treatment_tags":[],"created_utc":1751079766,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"distinguished":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n09p5pn","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"DorphinPack","can_mod_post":false,"send_replies":true,"parent_id":"t1_n0976ty","score":2,"author_fullname":"t2_zebuyjw9s","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Yes, listen to this person! I learned something today, too :)","edited":false,"author_flair_css_class":null,"name":"t1_n09p5pn","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Yes, listen to this person! I learned something today, too :)&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"link_id":"t3_1lmbt6g","associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"top_awarded_type":null,"unrepliable_reason":null,"author_flair_text_color":null,"treatment_tags":[],"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n09p5pn/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751130375,"author_flair_text":null,"collapsed":false,"created_utc":1751130375,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":4,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"distinguished":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n09ilm4","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Marksta","can_mod_post":false,"send_replies":true,"parent_id":"t1_n0976ty","score":1,"author_fullname":"t2_559a1","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Well to be frank about it, no, it's not good. Not because it's double GPU but because it's so, so very slow in memory bandwidth. As well as super old in architecture and thus software support. \\n\\nTo understand LLM performance at a high level, there's 3 simple parts. Capacity, Compute, and Memory Bandwidth. The capacity is good, the compute isn't awful, people run around with RTX 1080s and 1070s as well as the mining versions of them p102-100, p104-100 etc and have a great time. The memory bandwidth of **160.4 GB/s** is unfortunately, AWFUL. For LLMs specifically, the compute part almost never comes into play because we're all so constrained on the memory bandwidth part.\\n\\nA lot of us have EPYC DDR4 3200 Mhz 8 channel memory systems rocking 256GB to 1TB of system RAM that performs at 200GB/s entirely in the power envelope ~200w of this one old hunk of junk. 300GB/s+, 400GB/s like RTX 3060 and p102 is really the bottom line to being worth plugging it in for inference. Anything else and your consumer desktop or e-waste Xeon e5v4 systems start to out pace the old cards.\\n\\nCheck out the MI50 or v340L (MI25 x2) for some cheapo cards that has use if you don't mind figuring out a cooling solution. v340L is like an M60 but not junk, but also not Nvidia so that's its own issues.","edited":false,"author_flair_css_class":null,"name":"t1_n09ilm4","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Well to be frank about it, no, it&amp;#39;s not good. Not because it&amp;#39;s double GPU but because it&amp;#39;s so, so very slow in memory bandwidth. As well as super old in architecture and thus software support. &lt;/p&gt;\\n\\n&lt;p&gt;To understand LLM performance at a high level, there&amp;#39;s 3 simple parts. Capacity, Compute, and Memory Bandwidth. The capacity is good, the compute isn&amp;#39;t awful, people run around with RTX 1080s and 1070s as well as the mining versions of them p102-100, p104-100 etc and have a great time. The memory bandwidth of &lt;strong&gt;160.4 GB/s&lt;/strong&gt; is unfortunately, AWFUL. For LLMs specifically, the compute part almost never comes into play because we&amp;#39;re all so constrained on the memory bandwidth part.&lt;/p&gt;\\n\\n&lt;p&gt;A lot of us have EPYC DDR4 3200 Mhz 8 channel memory systems rocking 256GB to 1TB of system RAM that performs at 200GB/s entirely in the power envelope ~200w of this one old hunk of junk. 300GB/s+, 400GB/s like RTX 3060 and p102 is really the bottom line to being worth plugging it in for inference. Anything else and your consumer desktop or e-waste Xeon e5v4 systems start to out pace the old cards.&lt;/p&gt;\\n\\n&lt;p&gt;Check out the MI50 or v340L (MI25 x2) for some cheapo cards that has use if you don&amp;#39;t mind figuring out a cooling solution. v340L is like an M60 but not junk, but also not Nvidia so that&amp;#39;s its own issues.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"link_id":"t3_1lmbt6g","associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"top_awarded_type":null,"unrepliable_reason":null,"author_flair_text_color":null,"treatment_tags":[],"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n09ilm4/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751128315,"author_flair_text":null,"collapsed":false,"created_utc":1751128315,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":4,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n0976ty","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"HugoCortell","can_mod_post":false,"send_replies":true,"parent_id":"t1_n0783u8","score":1,"author_fullname":"t2_61s8b5gv","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Is that so? In that case, the M60 may be a decent choice after all?","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n0976ty","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Is that so? In that case, the M60 may be a decent choice after all?&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n0976ty/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751124685,"author_flair_text":null,"treatment_tags":[],"created_utc":1751124685,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":3,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n09p8es","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"DorphinPack","can_mod_post":false,"send_replies":true,"parent_id":"t1_n0783u8","score":1,"author_fullname":"t2_zebuyjw9s","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Girl, but thanks so much for sharing your knowledge! 🤘","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n09p8es","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Girl, but thanks so much for sharing your knowledge! 🤘&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n09p8es/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751130398,"author_flair_text":null,"treatment_tags":[],"created_utc":1751130398,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":3,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n0783u8","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"Marksta","can_mod_post":false,"send_replies":true,"parent_id":"t1_n06fg42","score":2,"author_fullname":"t2_559a1","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"This stuff is pretty hard to look up, so not to bash that guy but he's wrong. Context isn't stored in full on each card in llama.cpp, it's split across the cards just like layers.\\n\\nMulti-GPU cards are unique to each one, you need to look them up. The gaming ones with SLI forever ago did have them bridged. More recent ones usually just split the pcie lanes in half and talk to each other as individual cards on the pcie bus.\\n\\nPcie bus really doesn't matter much if you're just splitting layers so, it's not a huge concern anyways. You can just do pcie x1 gen3 if you want for llama.cpp layer split.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n0783u8","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;This stuff is pretty hard to look up, so not to bash that guy but he&amp;#39;s wrong. Context isn&amp;#39;t stored in full on each card in llama.cpp, it&amp;#39;s split across the cards just like layers.&lt;/p&gt;\\n\\n&lt;p&gt;Multi-GPU cards are unique to each one, you need to look them up. The gaming ones with SLI forever ago did have them bridged. More recent ones usually just split the pcie lanes in half and talk to each other as individual cards on the pcie bus.&lt;/p&gt;\\n\\n&lt;p&gt;Pcie bus really doesn&amp;#39;t matter much if you&amp;#39;re just splitting layers so, it&amp;#39;s not a huge concern anyways. You can just do pcie x1 gen3 if you want for llama.cpp layer split.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n0783u8/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751092043,"author_flair_text":null,"treatment_tags":[],"created_utc":1751092043,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":2}}],"before":null}},"user_reports":[],"saved":false,"id":"n06fg42","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"HugoCortell","can_mod_post":false,"created_utc":1751078472,"send_replies":true,"parent_id":"t1_n06ewu7","score":1,"author_fullname":"t2_61s8b5gv","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"The context stuff is a really good point, I hadn't thought of that. Damn.\\n\\nIf it is Multi-GPU but both of those GPU dies are on the same card, can't they share data between them without routing it through the PCIe? Or do they still need to go through the rest of the system just to talk to each other?","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n06fg42","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;The context stuff is a really good point, I hadn&amp;#39;t thought of that. Damn.&lt;/p&gt;\\n\\n&lt;p&gt;If it is Multi-GPU but both of those GPU dies are on the same card, can&amp;#39;t they share data between them without routing it through the PCIe? Or do they still need to go through the rest of the system just to talk to each other?&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n06fg42/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751078472,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n09oymb","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"DorphinPack","can_mod_post":false,"send_replies":true,"parent_id":"t1_n07jmks","score":1,"author_fullname":"t2_zebuyjw9s","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Oh interesting I hadn't seen the work on context parallelism -- thanks!","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n09oymb","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Oh interesting I hadn&amp;#39;t seen the work on context parallelism -- thanks!&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n09oymb/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751130314,"author_flair_text":null,"treatment_tags":[],"created_utc":1751130314,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n07jmks","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"AppearanceHeavy6724","can_mod_post":false,"created_utc":1751098562,"send_replies":true,"parent_id":"t1_n06ewu7","score":1,"author_fullname":"t2_uz37qfx5","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Context does not get duplicated though AFAIK. Some attention head tensors stay on one card, some on the other, with ratio equal to tensor split setting.And kv cache gets splitter accordingly ","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n07jmks","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Context does not get duplicated though AFAIK. Some attention head tensors stay on one card, some on the other, with ratio equal to tensor split setting.And kv cache gets splitter accordingly &lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n07jmks/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751098562,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n06ewu7","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"DorphinPack","can_mod_post":false,"created_utc":1751078257,"send_replies":true,"parent_id":"t3_1lmbt6g","score":3,"author_fullname":"t2_zebuyjw9s","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"The issue with multi-GPU becomes overhead. It’s worse on cheaper hardware from what I understand and can reason around. My observations back it up from messing with a few older GPUs before I bought a single 24GB card.\\n\\nYou’re making the PCIe bus part of the actual token generation process rather than just how data gets in and out of the inference. This scales up more as you add GPUs and, unfortunately for those of us with older mobos, means that you have to start caring faster the slower your PCIe bus is.\\n\\nAnother thing that hurts the cheap multi-GPU dream is that you’re usually running relatively small VRAM per card so the context penalty is brutal. Basically, you have to put the full context on each card — you also have to pass tokens between layers and then put the final output tokens back into context at the end, creating a new bottleneck on the bus connecting the cards. That’s the source of the previous issue but it also helps reveal how splitting the layers between the cards isn’t free — there’s complexity and overhead in the pool of VRAM.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n06ewu7","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;The issue with multi-GPU becomes overhead. It’s worse on cheaper hardware from what I understand and can reason around. My observations back it up from messing with a few older GPUs before I bought a single 24GB card.&lt;/p&gt;\\n\\n&lt;p&gt;You’re making the PCIe bus part of the actual token generation process rather than just how data gets in and out of the inference. This scales up more as you add GPUs and, unfortunately for those of us with older mobos, means that you have to start caring faster the slower your PCIe bus is.&lt;/p&gt;\\n\\n&lt;p&gt;Another thing that hurts the cheap multi-GPU dream is that you’re usually running relatively small VRAM per card so the context penalty is brutal. Basically, you have to put the full context on each card — you also have to pass tokens between layers and then put the final output tokens back into context at the end, creating a new bottleneck on the bus connecting the cards. That’s the source of the previous issue but it also helps reveal how splitting the layers between the cards isn’t free — there’s complexity and overhead in the pool of VRAM.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n06ewu7/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751078257,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1lmbt6g","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":3}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n07k19b","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"AppearanceHeavy6724","can_mod_post":false,"send_replies":true,"parent_id":"t1_n06scco","score":1,"author_fullname":"t2_uz37qfx5","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"I bought p104 for $25, a month ago, so 2x p104 could still be a very poor man's rig. Very slow though.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n07k19b","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;I bought p104 for $25, a month ago, so 2x p104 could still be a very poor man&amp;#39;s rig. Very slow though.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n07k19b/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751098805,"author_flair_text":null,"treatment_tags":[],"created_utc":1751098805,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n06scco","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"PermanentLiminality","can_mod_post":false,"created_utc":1751084044,"send_replies":true,"parent_id":"t1_n06e1cs","score":1,"author_fullname":"t2_19zqycaf","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"I have a few of the $40 p102-100 from last year when they were still cheap.  The 8 watt idle power was important to me and the older cards burn more power.  You can get them of $60.\\n\\nI think the M40 is probably a better option than the M60 unless you can get tensor parallel to work on it.  Better memory bandwidth at 288gb/s.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n06scco","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;I have a few of the $40 p102-100 from last year when they were still cheap.  The 8 watt idle power was important to me and the older cards burn more power.  You can get them of $60.&lt;/p&gt;\\n\\n&lt;p&gt;I think the M40 is probably a better option than the M60 unless you can get tensor parallel to work on it.  Better memory bandwidth at 288gb/s.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n06scco/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751084044,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n06e1cs","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"HugoCortell","can_mod_post":false,"created_utc":1751077910,"send_replies":true,"parent_id":"t3_1lmbt6g","score":1,"author_fullname":"t2_61s8b5gv","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"This discussion is primary about the M40 in comparison to the M60, but in case anyone feels the instinctive urge to bring up that P series cards are better: All of them are &gt;$250. Except the P100s which are $30 but the only seller I could find is asking for $60 in shipping. Their prices just aren't competitive right now, at least not where I am at.\\n\\nPersonally, in my opinion, when it comes to budget builds, RAM is king. Because no card you can afford will output hundreds of tokens per second, so at that point you should just pick whatever has the highest RAM capacity that can still output tokens faster than you can read them. The difference between 12 or 30 toks is so unimportant that it might as well not exist. So it's all about how big of a model you can fit that will still run \\"good enough\\". At least that's my view on things.\\n\\nI'm really hoping that the M60 is as good or maybe better than the M40 and will be able to run a 14-20B model at an acceptable speed.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n06e1cs","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;This discussion is primary about the M40 in comparison to the M60, but in case anyone feels the instinctive urge to bring up that P series cards are better: All of them are &amp;gt;$250. Except the P100s which are $30 but the only seller I could find is asking for $60 in shipping. Their prices just aren&amp;#39;t competitive right now, at least not where I am at.&lt;/p&gt;\\n\\n&lt;p&gt;Personally, in my opinion, when it comes to budget builds, RAM is king. Because no card you can afford will output hundreds of tokens per second, so at that point you should just pick whatever has the highest RAM capacity that can still output tokens faster than you can read them. The difference between 12 or 30 toks is so unimportant that it might as well not exist. So it&amp;#39;s all about how big of a model you can fit that will still run &amp;quot;good enough&amp;quot;. At least that&amp;#39;s my view on things.&lt;/p&gt;\\n\\n&lt;p&gt;I&amp;#39;m really hoping that the M60 is as good or maybe better than the M40 and will be able to run a 14-20B model at an acceptable speed.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n06e1cs/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751077910,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1lmbt6g","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}},{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":{"kind":"Listing","data":{"after":null,"dist":null,"modhash":"","geo_filter":"","children":[{"kind":"t1","data":{"subreddit_id":"t5_81eyvm","approved_at_utc":null,"author_is_blocked":false,"comment_type":null,"awarders":[],"mod_reason_by":null,"banned_by":null,"author_flair_type":"text","total_awards_received":0,"subreddit":"LocalLLaMA","author_flair_template_id":null,"likes":null,"replies":"","user_reports":[],"saved":false,"id":"n0d8xzr","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"AppearanceHeavy6724","can_mod_post":false,"send_replies":true,"parent_id":"t1_n096uoy","score":1,"author_fullname":"t2_uz37qfx5","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Sorry di not get it.","edited":false,"top_awarded_type":null,"downs":0,"author_flair_css_class":null,"name":"t1_n0d8xzr","is_submitter":false,"collapsed":false,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Sorry di not get it.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n0d8xzr/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751178250,"author_flair_text":null,"treatment_tags":[],"created_utc":1751178250,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":2,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n096uoy","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"HugoCortell","can_mod_post":false,"created_utc":1751124579,"send_replies":true,"parent_id":"t1_n07kbj5","score":1,"author_fullname":"t2_61s8b5gv","removal_reason":null,"approved_by":null,"mod_note":null,"all_awardings":[],"body":"Yeah, no such thing. I live in Villapolla de Los Cojones (Spain), we only just barely started to recover from when Hannibal lay siege to the local castle.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n096uoy","is_submitter":true,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Yeah, no such thing. I live in Villapolla de Los Cojones (Spain), we only just barely started to recover from when Hannibal lay siege to the local castle.&lt;/p&gt;\\n&lt;/div&gt;","gildings":{},"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"link_id":"t3_1lmbt6g","unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n096uoy/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751124579,"author_flair_text":null,"treatment_tags":[],"collapsed":false,"subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":1,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}},"user_reports":[],"saved":false,"id":"n07kbj5","banned_at_utc":null,"mod_reason_title":null,"gilded":0,"archived":false,"collapsed_reason_code":null,"no_follow":true,"author":"AppearanceHeavy6724","can_mod_post":false,"created_utc":1751098976,"send_replies":true,"parent_id":"t3_1lmbt6g","score":1,"author_fullname":"t2_uz37qfx5","approved_by":null,"mod_note":null,"all_awardings":[],"collapsed":false,"body":"Just buy 2 x p104 on local marketplace for $50 together and call it a day.","edited":false,"top_awarded_type":null,"author_flair_css_class":null,"name":"t1_n07kbj5","is_submitter":false,"downs":0,"author_flair_richtext":[],"author_patreon_flair":false,"body_html":"&lt;div class=\\"md\\"&gt;&lt;p&gt;Just buy 2 x p104 on local marketplace for $50 together and call it a day.&lt;/p&gt;\\n&lt;/div&gt;","removal_reason":null,"collapsed_reason":null,"distinguished":null,"associated_award":null,"stickied":false,"author_premium":false,"can_gild":false,"gildings":{},"unrepliable_reason":null,"author_flair_text_color":null,"score_hidden":false,"permalink":"/r/LocalLLaMA/comments/1lmbt6g/nvidia_m40_vs_m60_for_llm_inference/n07kbj5/","subreddit_type":"public","locked":false,"report_reasons":null,"created":1751098976,"author_flair_text":null,"treatment_tags":[],"link_id":"t3_1lmbt6g","subreddit_name_prefixed":"r/LocalLLaMA","controversiality":0,"depth":0,"author_flair_background_color":null,"collapsed_because_crowd_control":null,"mod_reports":[],"num_reports":null,"ups":1}}],"before":null}}]`),r=()=>e.jsx(t,{data:l});export{r as default};
